(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["back_news"],{"057f":function(t,e,a){var s=a("fc6a"),n=a("241c").f,r={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return n(t)}catch(e){return i.slice()}};t.exports.f=function(t){return i&&"[object Window]"==r.call(t)?c(t):n(s(t))}},1555:function(t,e,a){},2532:function(t,e,a){"use strict";var s=a("23e7"),n=a("5a34"),r=a("1d80"),i=a("ab13");s({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(r(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,a){"use strict";var s=a("6eeb"),n=a("825a"),r=a("d039"),i=a("ad6d"),c="toString",o=RegExp.prototype,l=o[c],u=r((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=c;(u||d)&&s(RegExp.prototype,c,(function(){var t=n(this),e=String(t.source),a=t.flags,s=String(void 0===a&&t instanceof RegExp&&!("flags"in o)?i.call(t):a);return"/"+e+"/"+s}),{unsafe:!0})},"5a34":function(t,e,a){var s=a("44e7");t.exports=function(t){if(s(t))throw TypeError("The method doesn't accept regular expressions");return t}},"6d84":function(t,e,a){"use strict";var s=a("1555"),n=a.n(s);n.a},"746f":function(t,e,a){var s=a("428f"),n=a("5135"),r=a("e538"),i=a("9bf2").f;t.exports=function(t){var e=s.Symbol||(s.Symbol={});n(e,t)||i(e,t,{value:r.f(t)})}},7929:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"back_news"}},[a("h1",{staticClass:"text-center mt-4 mb-4 title-lg"},[t._v("活動新增")]),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4 col-12 mt-5 d-flex justify-content-center flex-wrap"},[a("h3",{staticClass:"title mb-4 col-12"},[t._v("活動標題")]),a("vs-input",{staticClass:"inputx col-12",attrs:{"label-placeholder":"活動標題"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),a("div",{staticClass:"col-lg-4 col-12 mt-5 d-flex justify-content-center flex-wrap"},[a("h3",{staticClass:"title mb-4 col-12"},[t._v("活動日期")]),a("v-date-picker",{staticClass:"w-100 col-12",attrs:{mode:"range"},model:{value:t.range,callback:function(e){t.range=e},expression:"range"}})],1),a("div",{staticClass:"col-lg-4 col-12 mt-5 d-flex justify-content-center flex-wrap"},[a("h3",{staticClass:"title mb-4 col-12"},[t._v("月曆圓點顏色")]),a("vs-button",{staticClass:"col-3",attrs:{color:"red",type:"border"},on:{click:function(e){return t.pickcolor("red")}}},[a("span",[t._v("紅色")])]),a("vs-button",{staticClass:"col-3",attrs:{color:"orange",type:"border"},on:{click:function(e){return t.pickcolor("orange")}}},[a("span",[t._v("橙色")])]),a("vs-button",{staticClass:"col-3",attrs:{color:"yellow",type:"border"},on:{click:function(e){return t.pickcolor("yellow")}}},[a("span",[t._v("黃色")])]),a("vs-button",{staticClass:"col-3",attrs:{color:"green",type:"border"},on:{click:function(e){return t.pickcolor("green")}}},[a("span",[t._v("綠色")])]),a("vs-button",{staticClass:"col-3",attrs:{color:"blue",type:"border"},on:{click:function(e){return t.pickcolor("blue")}}},[a("span",[t._v("藍色")])]),a("vs-button",{staticClass:"col-3",attrs:{color:"purple",type:"border"},on:{click:function(e){return t.pickcolor("purple")}}},[a("span",[t._v("紫色")])]),a("vs-button",{staticClass:"col-3",attrs:{color:"pink",type:"border"},on:{click:function(e){return t.pickcolor("pink")}}},[a("span",[t._v("粉紅")])]),a("vs-button",{staticClass:"col-3",attrs:{color:"gray",type:"border"},on:{click:function(e){return t.pickcolor("gray")}}},[a("span",[t._v("灰色")])]),a("div",{staticClass:"col-12 pickcolorstyle d-flex justify-content-center align-items-center",style:t.pickcolorstyle},[t._v("目前選擇顏色")])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 col-12 mt-5 d-flex justify-content-center flex-wrap"},[a("h3",{staticClass:"title mb-4 col-12"},[t._v("活動圖片")]),a("b-form-file",{staticClass:"b-form-file",attrs:{state:t.state,placeholder:"選擇檔案或拖曳至此","drop-placeholder":"將檔案拖曳至此","requiredbrowse-text":"瀏覽",accept:"image/*"},on:{input:t.validateFile},model:{value:t.src,callback:function(e){t.src=e},expression:"src"}}),a("p",[t._v("圖片請在1MB以下")])],1),a("div",{staticClass:"col-lg-6 col-12 mt-5 d-flex justify-content-center flex-wrap"},[a("h3",{staticClass:"title mb-4 col-12"},[t._v("活動內容")]),a("vs-textarea",{staticClass:"col-12",attrs:{label:"活動內容"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)]),a("div",{staticClass:"row mt-5 justify-content-center align-items-center flex-nowrap"},[a("div",{staticClass:"col-lg-2 text-right"},[a("vs-button",{attrs:{color:"primary",type:"filled"},on:{click:t.addevent}},[t._v("新增")])],1),a("div",{staticClass:"col-lg-2 text-left"},[a("vs-button",{attrs:{color:"danger",type:"filled"}},[t._v("重寫")])],1)])]),a("hr"),a("h1",{staticClass:"text-center mt-4 mb-4 title-lg"},[t._v("活動管理")]),a("div",{staticClass:"container"},[a("vs-table",{attrs:{data:t.allevent},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,s){return a("vs-tr",{key:s},[a("vs-td",{attrs:{data:e.title}},[a("span",{staticClass:"text"},[t._v(t._s(e.title))]),a("template",{slot:"edit"},[a("vs-input",{staticClass:"inputx col-12",attrs:{"label-placeholder":"活動標題"},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"tr.title"}})],1)],2),a("vs-td",{staticClass:"calendar",attrs:{data:e}},[t.ScreenWidth>768?a("v-calendar",{attrs:{attributes:[e]}}):a("vs-button",{attrs:{color:"primary",type:"border"},on:{click:function(e){t.popupActivo=!0}}},[t._v("點我看呈現")]),a("vs-popup",{staticClass:"holamundo",attrs:{title:"月曆預覽",active:t.popupActivo},on:{"update:active":function(e){t.popupActivo=e}}},[a("v-calendar",{staticClass:"m-auto",attrs:{attributes:[e]}}),a("v-date-picker",{staticClass:"w-100 col-12",attrs:{mode:"range"},model:{value:e.dates,callback:function(a){t.$set(e,"dates",a)},expression:"tr.dates"}})],1),a("template",{slot:"edit"},[a("v-date-picker",{staticClass:"w-100 col-12",attrs:{mode:"range"},model:{value:e.dates,callback:function(a){t.$set(e,"dates",a)},expression:"tr.dates"}})],1)],2),a("vs-td",{attrs:{data:e.src}},[a("div",[a("div",{staticClass:"image"},[a("img",{attrs:{src:e.src}})])])]),a("vs-td",{staticClass:"w-25",attrs:{data:e.description}},[a("div",{staticClass:"overflow-hidden"},[a("span",{staticClass:"text"},[t._v(t._s(e.description))])]),a("template",{slot:"edit"},[a("vs-textarea",{staticClass:"col-12",attrs:{label:"活動內容"},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"tr.description"}})],1)],2),a("vs-td",{attrs:{data:e}},[a("vs-button",{staticClass:"d-block",attrs:{color:"success",type:"filled"},on:{click:function(a){return t.openConfirm(e)}}},[a("span",{staticClass:"btntext"},[t._v("儲存")])]),a("vs-button",{staticClass:"d-block",attrs:{color:"danger",type:"filled"},on:{click:function(a){return t.openDeleteConfirm(e)}}},[a("span",{staticClass:"btntext"},[t._v("刪除")])])],1)],1)}))}}])},[a("template",{slot:"thead"},[a("vs-th",{attrs:{"sort-key":"title"}},[a("span",{staticClass:"item"},[t._v("活動")])]),a("vs-th",{attrs:{"sort-key":"range"}},[a("span",{staticClass:"item text-center"},[t._v("月曆呈現")])]),a("vs-th",[a("span",{staticClass:"item"},[t._v("圖片")])]),a("vs-th",[a("span",{staticClass:"item"},[t._v("內容")])]),a("vs-th",[a("span",{staticClass:"item"},[t._v("動作")])])],1)],2)],1)])},n=[],r=(a("a4d3"),a("e01a"),a("caad"),a("d81d"),a("d3b7"),a("ac1f"),a("25f0"),a("2532"),a("1276"),function(t,e){var a=t.toString().substr(4,11).split(" "),s=e.toString().substr(4,11).split(" ");switch(a[0]){case"Jan":a[0]=1;break;case"Feb":a[0]=2;break;case"Mar":a[0]=3;break;case"Apr":a[0]=4;break;case"May":a[0]=5;break;case"Jun":a[0]=6;break;case"Jul":a[0]=7;break;case"Aug":a[0]=8;break;case"Sep":a[0]=9;break;case"Oct":a[0]=10;break;case"Nov":a[0]=11;break;case"Dec":a[0]=12;break}switch(s[0]){case"Jan":s[0]=1;break;case"Feb":s[0]=2;break;case"Mar":s[0]=3;break;case"Apr":s[0]=4;break;case"May":s[0]=5;break;case"Jun":s[0]=6;break;case"Jul":s[0]=7;break;case"Aug":s[0]=8;break;case"Sep":s[0]=9;break;case"Oct":s[0]=10;break;case"Nov":s[0]=11;break;case"Dec":s[0]=12;break}return a[1]=parseInt(a[1]),a[2]=parseInt(a[2]),s[1]=parseInt(s[1]),s[2]=parseInt(s[2]),[a,s]}),i={data:function(){return{popupActivo:!1,color:"",pickcolorstyle:{},state:null,title:"",src:null,description:"",range:{start:new Date,end:new Date},allevent:"",changeevent:""}},methods:{pickcolor:function(t){this.color=t,this.pickcolorstyle={background:"".concat(t)}},validateFile:function(){null!=this.src&&(this.src.size>=1048576||!this.src.type.includes("image")?(this.state=!1,this.src=null):this.state=!0)},addevent:function(){var t=this;if(this.title.length<1)this.$swal("錯誤","未輸入活動標題","error");else if(this.color.length<1)this.$swal("錯誤","未圓點選擇顏色","error");else if(this.description.length<1)this.$swal("錯誤","無活動內容","error");else{var e=new FormData;e.append("title",this.title),e.append("color",this.color),e.append("startyear",r(this.range.start,this.range.end)[0][2]),e.append("startmonth",r(this.range.start,this.range.end)[0][0]),e.append("startday",r(this.range.start,this.range.end)[0][1]),e.append("endyear",r(this.range.start,this.range.end)[1][2]),e.append("endmonth",r(this.range.start,this.range.end)[1][0]),e.append("endday",r(this.range.start,this.range.end)[1][1]),e.append("src",this.src),e.append("description",this.description),this.title="",this.color="",this.src=null,this.description="",this.range={start:new Date,end:new Date},this.axios.post("https://vanessa-rhapsody.herokuapp.com/addevent",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.$swal("完成","已成功新增活動","success")})).catch((function(e){t.$swal("錯誤","".concat(e.response.data.message),"error")}))}},openConfirm:function(t){this.changeevent=t,this.$vs.dialog({type:"confirm",color:"success",title:"確認更變",text:"確認更變項目嗎",accept:this.acceptAlert})},acceptAlert:function(t){var e=this;this.$vs.notify({color:"primary",title:"已順利更變",text:"已順利所選項目"}),this.axios.post("https://vanessa-rhapsody.herokuapp.com/changeevent",{title:this.changeevent.title,startyear:r(this.changeevent.dates.start,this.changeevent.dates.end)[0][2],startmonth:r(this.changeevent.dates.start,this.changeevent.dates.end)[0][0],startday:r(this.changeevent.dates.start,this.changeevent.dates.end)[0][1],endyear:r(this.changeevent.dates.start,this.changeevent.dates.end)[1][2],endmonth:r(this.changeevent.dates.start,this.changeevent.dates.end)[1][0],endday:r(this.changeevent.dates.start,this.changeevent.dates.end)[1][1],id:this.changeevent.id,description:this.changeevent.description}).then((function(t){e.$swal("完成","已成功更變菜單","success")})).catch((function(t){e.$swal("錯誤","".concat(t.response.data.message),"error")}))},openDeleteConfirm:function(t){this.changeevent=t,this.$vs.dialog({type:"confirm",color:"danger",title:"確認刪除",text:"確認刪除項目嗎",accept:this.acceptDeleteAlert})},acceptDeleteAlert:function(t){var e=this;this.$vs.notify({color:"primary",title:"已順利刪除",text:"已順利所選項目"}),this.axios.post("https://vanessa-rhapsody.herokuapp.com/deleteevent",{id:this.changeevent.id}).then((function(t){e.$swal("完成","已成功刪除活動","success")})).catch((function(t){e.$swal("錯誤","".concat(t.response.data.message),"error")}))}},computed:{ScreenWidth:function(){return this.$store.getters.screenWidth}},mounted:function(){var t=this;this.axios.post("https://vanessa-rhapsody.herokuapp.com/allevent").then((function(e){t.allevent=e.data.result.map((function(t){return{highlight:t.color,dates:{start:new Date(t.startyear,t.startmonth-1,t.startday),end:new Date(t.endyear,t.endmonth-1,t.endday)},popover:{label:t.title},title:t.title,description:t.description,src:"https://vanessa-rhapsody.herokuapp.com/images/"+t.src,id:t.id}}))})).catch((function(e){t.$swal("錯誤","".concat(e.response.data.message),"error")}))}},c=i,o=(a("6d84"),a("2877")),l=Object(o["a"])(c,s,n,!1,null,null,null);e["default"]=l.exports},a4d3:function(t,e,a){"use strict";var s=a("23e7"),n=a("da84"),r=a("d066"),i=a("c430"),c=a("83ab"),o=a("4930"),l=a("fdbf"),u=a("d039"),d=a("5135"),p=a("e8b5"),f=a("861d"),v=a("825a"),h=a("7b0b"),b=a("fc6a"),g=a("c04e"),m=a("5c6c"),y=a("7c73"),k=a("df75"),w=a("241c"),C=a("057f"),x=a("7418"),S=a("06cf"),_=a("9bf2"),O=a("d1e7"),$=a("9112"),j=a("6eeb"),A=a("5692"),D=a("f772"),E=a("d012"),J=a("90e3"),P=a("b622"),F=a("e538"),N=a("746f"),I=a("d44e"),R=a("69f3"),M=a("b727").forEach,T=D("hidden"),W="Symbol",q="prototype",z=P("toPrimitive"),B=R.set,Q=R.getterFor(W),G=Object[q],H=n.Symbol,K=r("JSON","stringify"),L=S.f,U=_.f,V=C.f,X=O.f,Y=A("symbols"),Z=A("op-symbols"),tt=A("string-to-symbol-registry"),et=A("symbol-to-string-registry"),at=A("wks"),st=n.QObject,nt=!st||!st[q]||!st[q].findChild,rt=c&&u((function(){return 7!=y(U({},"a",{get:function(){return U(this,"a",{value:7}).a}})).a}))?function(t,e,a){var s=L(G,e);s&&delete G[e],U(t,e,a),s&&t!==G&&U(G,e,s)}:U,it=function(t,e){var a=Y[t]=y(H[q]);return B(a,{type:W,tag:t,description:e}),c||(a.description=e),a},ct=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof H},ot=function(t,e,a){t===G&&ot(Z,e,a),v(t);var s=g(e,!0);return v(a),d(Y,s)?(a.enumerable?(d(t,T)&&t[T][s]&&(t[T][s]=!1),a=y(a,{enumerable:m(0,!1)})):(d(t,T)||U(t,T,m(1,{})),t[T][s]=!0),rt(t,s,a)):U(t,s,a)},lt=function(t,e){v(t);var a=b(e),s=k(a).concat(vt(a));return M(s,(function(e){c&&!dt.call(a,e)||ot(t,e,a[e])})),t},ut=function(t,e){return void 0===e?y(t):lt(y(t),e)},dt=function(t){var e=g(t,!0),a=X.call(this,e);return!(this===G&&d(Y,e)&&!d(Z,e))&&(!(a||!d(this,e)||!d(Y,e)||d(this,T)&&this[T][e])||a)},pt=function(t,e){var a=b(t),s=g(e,!0);if(a!==G||!d(Y,s)||d(Z,s)){var n=L(a,s);return!n||!d(Y,s)||d(a,T)&&a[T][s]||(n.enumerable=!0),n}},ft=function(t){var e=V(b(t)),a=[];return M(e,(function(t){d(Y,t)||d(E,t)||a.push(t)})),a},vt=function(t){var e=t===G,a=V(e?Z:b(t)),s=[];return M(a,(function(t){!d(Y,t)||e&&!d(G,t)||s.push(Y[t])})),s};if(o||(H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=J(t),a=function(t){this===G&&a.call(Z,t),d(this,T)&&d(this[T],e)&&(this[T][e]=!1),rt(this,e,m(1,t))};return c&&nt&&rt(G,e,{configurable:!0,set:a}),it(e,t)},j(H[q],"toString",(function(){return Q(this).tag})),j(H,"withoutSetter",(function(t){return it(J(t),t)})),O.f=dt,_.f=ot,S.f=pt,w.f=C.f=ft,x.f=vt,F.f=function(t){return it(P(t),t)},c&&(U(H[q],"description",{configurable:!0,get:function(){return Q(this).description}}),i||j(G,"propertyIsEnumerable",dt,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!o,sham:!o},{Symbol:H}),M(k(at),(function(t){N(t)})),s({target:W,stat:!0,forced:!o},{for:function(t){var e=String(t);if(d(tt,e))return tt[e];var a=H(e);return tt[e]=a,et[a]=e,a},keyFor:function(t){if(!ct(t))throw TypeError(t+" is not a symbol");if(d(et,t))return et[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),s({target:"Object",stat:!0,forced:!o,sham:!c},{create:ut,defineProperty:ot,defineProperties:lt,getOwnPropertyDescriptor:pt}),s({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:ft,getOwnPropertySymbols:vt}),s({target:"Object",stat:!0,forced:u((function(){x.f(1)}))},{getOwnPropertySymbols:function(t){return x.f(h(t))}}),K){var ht=!o||u((function(){var t=H();return"[null]"!=K([t])||"{}"!=K({a:t})||"{}"!=K(Object(t))}));s({target:"JSON",stat:!0,forced:ht},{stringify:function(t,e,a){var s,n=[t],r=1;while(arguments.length>r)n.push(arguments[r++]);if(s=e,(f(e)||void 0!==t)&&!ct(t))return p(e)||(e=function(t,e){if("function"==typeof s&&(e=s.call(this,t,e)),!ct(e))return e}),n[1]=e,K.apply(null,n)}})}H[q][z]||$(H[q],z,H[q].valueOf),I(H,W),E[T]=!0},ab13:function(t,e,a){var s=a("b622"),n=s("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[n]=!1,"/./"[t](e)}catch(s){}}return!1}},ae40:function(t,e,a){var s=a("83ab"),n=a("d039"),r=a("5135"),i=Object.defineProperty,c={},o=function(t){throw t};t.exports=function(t,e){if(r(c,t))return c[t];e||(e={});var a=[][t],l=!!r(e,"ACCESSORS")&&e.ACCESSORS,u=r(e,0)?e[0]:o,d=r(e,1)?e[1]:void 0;return c[t]=!!a&&!n((function(){if(l&&!s)return!0;var t={length:-1};l?i(t,1,{enumerable:!0,get:o}):t[1]=1,a.call(t,u,d)}))}},b727:function(t,e,a){var s=a("0366"),n=a("44ad"),r=a("7b0b"),i=a("50c4"),c=a("65f0"),o=[].push,l=function(t){var e=1==t,a=2==t,l=3==t,u=4==t,d=6==t,p=5==t||d;return function(f,v,h,b){for(var g,m,y=r(f),k=n(y),w=s(v,h,3),C=i(k.length),x=0,S=b||c,_=e?S(f,C):a?S(f,0):void 0;C>x;x++)if((p||x in k)&&(g=k[x],m=w(g,x,y),t))if(e)_[x]=m;else if(m)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:o.call(_,g)}else if(u)return!1;return d?-1:l||u?u:_}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},caad:function(t,e,a){"use strict";var s=a("23e7"),n=a("4d64").includes,r=a("44d2"),i=a("ae40"),c=i("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!c},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},d81d:function(t,e,a){"use strict";var s=a("23e7"),n=a("b727").map,r=a("1dde"),i=a("ae40"),c=r("map"),o=i("map");s({target:"Array",proto:!0,forced:!c||!o},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},e01a:function(t,e,a){"use strict";var s=a("23e7"),n=a("83ab"),r=a("da84"),i=a("5135"),c=a("861d"),o=a("9bf2").f,l=a("e893"),u=r.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(p,u);var f=p.prototype=u.prototype;f.constructor=p;var v=f.toString,h="Symbol(test)"==String(u("test")),b=/^Symbol\((.*)\)[^)]+$/;o(f,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=v.call(t);if(i(d,t))return"";var a=h?e.slice(7,-1):e.replace(b,"$1");return""===a?void 0:a}}),s({global:!0,forced:!0},{Symbol:p})}},e538:function(t,e,a){var s=a("b622");e.f=s}}]);
//# sourceMappingURL=back_news.f90debd5.js.map