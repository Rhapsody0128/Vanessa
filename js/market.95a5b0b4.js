(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["market"],{"057f":function(t,e,n){var r=n("fc6a"),i=n("241c").f,o={}.toString,c="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return i(t)}catch(e){return c.slice()}};t.exports.f=function(t){return c&&"[object Window]"==o.call(t)?a(t):i(r(t))}},"658d":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"market"}},[n("h1",{staticClass:"text-center mt-4 mb-4"},[t._v("購物廣場")]),n("div",{staticClass:"row justify-content-center m-0"},[n("div",{staticClass:"col-10 col-lg-2 "},[n("b-form-group",{scopedSlots:t._u([{key:"label",fn:function(){return[n("br"),n("b-form-checkbox",{attrs:{indeterminate:t.indeterminate,checked:"true"},on:{change:t.toggleAll},model:{value:t.allSelected,callback:function(e){t.allSelected=e},expression:"allSelected"}},[t._v(t._s(t.allSelected?"取消全選":"全選"))])]},proxy:!0}])},[n("b-form-checkbox-group",{staticClass:"ml-4 d-lg-flex flex-lg-nowrap flex-lg-column",attrs:{id:"flavors",options:t.flavours,name:"flavors",size:"lg",stacked:t.ScreenWidth>768},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1),n("div",{staticClass:"col-12 col-lg-8 d-flex justify-content-start flex-wrap",attrs:{id:"showmarket"}},t._l(t.market,(function(e,r){return n("div",{key:r,staticClass:"mealcard d-flex"},[n("transition",{attrs:{name:"fade"}},[t.selected.includes(e.type)?n("div",{on:{click:function(n){e.popupActivo=!0,t.number=null}}},[n("div",{staticClass:"itempic"},[n("img",{attrs:{src:e.src}})]),n("div",{staticClass:"itemdes text-center"},[t._v(t._s(e.title))])]):t._e()]),n("vs-popup",{staticClass:"holamundo text-center",attrs:{title:e.title,active:e.popupActivo},on:{click:t.clearnumber,"update:active":function(n){return t.$set(e,"popupActivo",n)}}},[n("img",{staticClass:"bigpic",attrs:{src:e.src}}),n("h3",[t._v(t._s(e.description))]),n("h4",[t._v("價格:"+t._s(e.value)+"元")]),n("vs-button",{staticClass:"mb-1",attrs:{color:"success",type:"filled"},on:{click:function(n){return t.additem(e.id,t.number,e.stock,e.title,e.value,e.src)}}},[t._v("加入購物車")]),n("vs-input",{staticClass:"inputx m-auto",attrs:{type:"number",placeholder:"數量"},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1)],1)})),0)])])},i=[],o=(n("a4d3"),n("e01a"),n("d81d"),n("fb6a"),{data:function(){return{popupActivo:!1,flavours:["手工蛋糕","餅乾","布丁","蔬菜","水果","甜點"],selected:["手工蛋糕","餅乾","布丁","蔬菜","水果","甜點"],allSelected:!0,indeterminate:!1,market:[],number:null,test:13}},methods:{toggleAll:function(t){this.selected=t?this.flavours.slice():[]},additem:function(t,e,n,r,i,o){var c=this;this.account.length<-1?(this.$swal("錯誤","請先登入會員","error"),this.$router.push("/member")):null===e||e<1?this.$swal("錯誤","請確認數量","error"):n<e?this.$swal({title:"庫存不足，",text:"目前庫存量為".concat(n,"，是否依然需要下訂?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"確定",cancelButtonText:"取消"}).then((function(n){n.value&&c.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/addcart",{itemid:t,account:c.account,title:r,number:e,value:i,src:o,buying:!0}).then((function(t){c.$swal("確認","已收到您的訂單，會盡速幫您處裡","success"),console.log(t)})).catch((function(t){console.log(t.response.data.message)}))})):this.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/addcart",{itemid:t,account:this.account,title:r,number:e,value:i,src:o,buying:!0}).then((function(t){c.$swal("確認","已成功加入購物車","success"),console.log(t)})).catch((function(t){console.log(t.response.data.message)}))},clearnumber:function(){this.number=null},ScreenWidth:function(){return this.$store.getters.screenWidth}},computed:{account:function(){return this.$store.getters.account}},watch:{selected:function(t,e){0===t.length?(this.indeterminate=!1,this.allSelected=!1):t.length===this.flavours.length?(this.indeterminate=!1,this.allSelected=!0):(this.indeterminate=!0,this.allSelected=!1)}},mounted:function(){var t=this;this.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/allmarket").then((function(e){t.market=e.data.result.map((function(t){return{title:t.title,value:t.value,type:t.type,description:t.description,src:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/images/"+t.src,stock:t.stock,popupActivo:!1,id:t.id}}))})).catch((function(t){console.log(t.response.data.message)}))}}),c=o,a=(n("8b1f"),n("2877")),s=Object(a["a"])(c,r,i,!1,null,"08e2bbac",null);e["default"]=s.exports},"746f":function(t,e,n){var r=n("428f"),i=n("5135"),o=n("e538"),c=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||c(e,t,{value:o.f(t)})}},"8b1f":function(t,e,n){"use strict";var r=n("d120"),i=n.n(r);i.a},a4d3:function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("d066"),c=n("c430"),a=n("83ab"),s=n("4930"),u=n("fdbf"),l=n("d039"),f=n("5135"),d=n("e8b5"),p=n("861d"),v=n("825a"),b=n("7b0b"),m=n("fc6a"),h=n("c04e"),g=n("5c6c"),y=n("7c73"),S=n("df75"),w=n("241c"),O=n("057f"),_=n("7418"),x=n("06cf"),A=n("9bf2"),k=n("d1e7"),E=n("9112"),C=n("6eeb"),P=n("5692"),j=n("f772"),N=n("d012"),U=n("90e3"),$=n("b622"),R=n("e538"),B=n("746f"),L=n("d44e"),V=n("69f3"),I=n("b727").forEach,D=j("hidden"),J="Symbol",T="prototype",W=$("toPrimitive"),F=V.set,z=V.getterFor(J),M=Object[T],Q=i.Symbol,q=o("JSON","stringify"),G=x.f,H=A.f,K=O.f,X=k.f,Y=P("symbols"),Z=P("op-symbols"),tt=P("string-to-symbol-registry"),et=P("symbol-to-string-registry"),nt=P("wks"),rt=i.QObject,it=!rt||!rt[T]||!rt[T].findChild,ot=a&&l((function(){return 7!=y(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=G(M,e);r&&delete M[e],H(t,e,n),r&&t!==M&&H(M,e,r)}:H,ct=function(t,e){var n=Y[t]=y(Q[T]);return F(n,{type:J,tag:t,description:e}),a||(n.description=e),n},at=u?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Q},st=function(t,e,n){t===M&&st(Z,e,n),v(t);var r=h(e,!0);return v(n),f(Y,r)?(n.enumerable?(f(t,D)&&t[D][r]&&(t[D][r]=!1),n=y(n,{enumerable:g(0,!1)})):(f(t,D)||H(t,D,g(1,{})),t[D][r]=!0),ot(t,r,n)):H(t,r,n)},ut=function(t,e){v(t);var n=m(e),r=S(n).concat(vt(n));return I(r,(function(e){a&&!ft.call(n,e)||st(t,e,n[e])})),t},lt=function(t,e){return void 0===e?y(t):ut(y(t),e)},ft=function(t){var e=h(t,!0),n=X.call(this,e);return!(this===M&&f(Y,e)&&!f(Z,e))&&(!(n||!f(this,e)||!f(Y,e)||f(this,D)&&this[D][e])||n)},dt=function(t,e){var n=m(t),r=h(e,!0);if(n!==M||!f(Y,r)||f(Z,r)){var i=G(n,r);return!i||!f(Y,r)||f(n,D)&&n[D][r]||(i.enumerable=!0),i}},pt=function(t){var e=K(m(t)),n=[];return I(e,(function(t){f(Y,t)||f(N,t)||n.push(t)})),n},vt=function(t){var e=t===M,n=K(e?Z:m(t)),r=[];return I(n,(function(t){!f(Y,t)||e&&!f(M,t)||r.push(Y[t])})),r};if(s||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=U(t),n=function(t){this===M&&n.call(Z,t),f(this,D)&&f(this[D],e)&&(this[D][e]=!1),ot(this,e,g(1,t))};return a&&it&&ot(M,e,{configurable:!0,set:n}),ct(e,t)},C(Q[T],"toString",(function(){return z(this).tag})),C(Q,"withoutSetter",(function(t){return ct(U(t),t)})),k.f=ft,A.f=st,x.f=dt,w.f=O.f=pt,_.f=vt,R.f=function(t){return ct($(t),t)},a&&(H(Q[T],"description",{configurable:!0,get:function(){return z(this).description}}),c||C(M,"propertyIsEnumerable",ft,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:Q}),I(S(nt),(function(t){B(t)})),r({target:J,stat:!0,forced:!s},{for:function(t){var e=String(t);if(f(tt,e))return tt[e];var n=Q(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!at(t))throw TypeError(t+" is not a symbol");if(f(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!a},{create:lt,defineProperty:st,defineProperties:ut,getOwnPropertyDescriptor:dt}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:pt,getOwnPropertySymbols:vt}),r({target:"Object",stat:!0,forced:l((function(){_.f(1)}))},{getOwnPropertySymbols:function(t){return _.f(b(t))}}),q){var bt=!s||l((function(){var t=Q();return"[null]"!=q([t])||"{}"!=q({a:t})||"{}"!=q(Object(t))}));r({target:"JSON",stat:!0,forced:bt},{stringify:function(t,e,n){var r,i=[t],o=1;while(arguments.length>o)i.push(arguments[o++]);if(r=e,(p(e)||void 0!==t)&&!at(t))return d(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!at(e))return e}),i[1]=e,q.apply(null,i)}})}Q[T][W]||E(Q[T],W,Q[T].valueOf),L(Q,J),N[D]=!0},ae40:function(t,e,n){var r=n("83ab"),i=n("d039"),o=n("5135"),c=Object.defineProperty,a={},s=function(t){throw t};t.exports=function(t,e){if(o(a,t))return a[t];e||(e={});var n=[][t],u=!!o(e,"ACCESSORS")&&e.ACCESSORS,l=o(e,0)?e[0]:s,f=o(e,1)?e[1]:void 0;return a[t]=!!n&&!i((function(){if(u&&!r)return!0;var t={length:-1};u?c(t,1,{enumerable:!0,get:s}):t[1]=1,n.call(t,l,f)}))}},b727:function(t,e,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),c=n("50c4"),a=n("65f0"),s=[].push,u=function(t){var e=1==t,n=2==t,u=3==t,l=4==t,f=6==t,d=5==t||f;return function(p,v,b,m){for(var h,g,y=o(p),S=i(y),w=r(v,b,3),O=c(S.length),_=0,x=m||a,A=e?x(p,O):n?x(p,0):void 0;O>_;_++)if((d||_ in S)&&(h=S[_],g=w(h,_,y),t))if(e)A[_]=g;else if(g)switch(t){case 3:return!0;case 5:return h;case 6:return _;case 2:s.call(A,h)}else if(l)return!1;return f?-1:u||l?l:A}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},d120:function(t,e,n){},d81d:function(t,e,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),c=n("ae40"),a=o("map"),s=c("map");r({target:"Array",proto:!0,forced:!a||!s},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},e01a:function(t,e,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),c=n("5135"),a=n("861d"),s=n("9bf2").f,u=n("e893"),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};u(d,l);var p=d.prototype=l.prototype;p.constructor=d;var v=p.toString,b="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;s(p,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=v.call(t);if(c(f,t))return"";var n=b?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},e538:function(t,e,n){var r=n("b622");e.f=r},fb6a:function(t,e,n){"use strict";var r=n("23e7"),i=n("861d"),o=n("e8b5"),c=n("23cb"),a=n("50c4"),s=n("fc6a"),u=n("8418"),l=n("b622"),f=n("1dde"),d=n("ae40"),p=f("slice"),v=d("slice",{ACCESSORS:!0,0:0,1:2}),b=l("species"),m=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!p||!v},{slice:function(t,e){var n,r,l,f=s(this),d=a(f.length),p=c(t,d),v=c(void 0===e?d:e,d);if(o(f)&&(n=f.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?i(n)&&(n=n[b],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(f,p,v);for(r=new(void 0===n?Array:n)(h(v-p,0)),l=0;p<v;p++,l++)p in f&&u(r,l,f[p]);return r.length=l,r}})}}]);
//# sourceMappingURL=market.95a5b0b4.js.map