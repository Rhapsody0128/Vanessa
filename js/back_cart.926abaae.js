(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["back_cart"],{"159b":function(t,e,s){var a=s("da84"),r=s("fdbc"),i=s("17c2"),n=s("9112");for(var c in r){var o=a[c],l=o&&o.prototype;if(l&&l.forEach!==i)try{n(l,"forEach",i)}catch(u){l.forEach=i}}},"17c2":function(t,e,s){"use strict";var a=s("b727").forEach,r=s("a640"),i=s("ae40"),n=r("forEach"),c=i("forEach");t.exports=n&&c?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,s){"use strict";var a=s("23e7"),r=s("17c2");a({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},a553:function(t,e,s){},a640:function(t,e,s){"use strict";var a=s("d039");t.exports=function(t,e){var s=[][t];return!!s&&a((function(){s.call(null,e||function(){throw 1},1)}))}},a9a5:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"back_order"}},[s("div",{staticClass:"all",style:t.allstyle},[s("div",{staticClass:"row cartorder",style:t.cartorderstyle},[s("div",{staticClass:"col"},[s("vs-table",{staticClass:"table",attrs:{multiple:"",data:t.datas},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,r){return s("vs-tr",{key:r,attrs:{data:e}},[a[r].finish?t._e():s("vs-td",{staticClass:"border",attrs:{data:a[r].account}},[s("span",{staticClass:"text"},[t._v(t._s(a[r].account))])]),a[r].finish?t._e():s("vs-td",{staticClass:"border",attrs:{data:a[r].title}},t._l(a[r].title,(function(e,a){return s("span",{key:a,staticClass:"text"},[t._v(t._s(e)),s("br"),s("br")])})),0),a[r].finish?t._e():s("vs-td",{staticClass:"border",attrs:{data:a[r].number}},t._l(a[r].number,(function(e,a){return s("span",{key:a,staticClass:"text"},[t._v(t._s(e)),s("br"),s("br")])})),0),a[r].finish?t._e():s("vs-td",{staticClass:"border",attrs:{data:a[r].value}},t._l(a[r].value,(function(e,a){return s("span",{key:a,staticClass:"text"},[t._v(t._s(e)),s("br"),s("br")])})),0),a[r].finish?t._e():s("vs-td",{attrs:{data:a[r].id}},[s("span",{staticClass:"text"},[t._v(t._s(a[r].id))])])],1)}))}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[s("template",{slot:"header"},[s("h1",{staticClass:"title text-center"},[t._v("訂單資訊")])]),s("template",{slot:"thead"},[s("vs-th",{staticClass:"item ",attrs:{"sort-key":"account"}},[t._v("帳號")]),s("vs-th",{staticClass:"item ",attrs:{"sort-key":"title"}},[t._v("項目")]),s("vs-th",{staticClass:"item ",attrs:{"sort-key":"number"}},[t._v("數量")]),s("vs-th",{staticClass:"item ",attrs:{"sort-key":"value"}},[t._v("單價")]),s("vs-th",{staticClass:"item ",attrs:{"sort-key":"id"}},[t._v("訂單編號")])],1)],2),s("h4",{staticClass:"text-right"},[t._v("所選定單總價為:"+t._s(t.allvalue)+"元")]),s("div",{staticClass:"d-flex mt-3 justify-content-center mb-5"},[s("div",{staticClass:"col-lg-3 col-4 d-flex justify-content-center"},[s("vs-button",{attrs:{color:"primary",type:"filled"},on:{click:function(e){return t.openConfirm()}}},[t._v("結案")])],1),s("div",{staticClass:"col-lg-3 col-4 d-flex justify-content-center"},[s("vs-button",{attrs:{color:"danger",type:"filled"},on:{click:function(e){return t.openDeleteConfirm()}}},[t._v("刪除")])],1),s("div",{staticClass:"col-lg-3 col-4 d-flex justify-content-center"},[s("vs-button",{attrs:{color:"success",type:"filled"},on:{click:t.changetoggle}},[t._v("已結案訂單")])],1)])],1)]),s("div",{staticClass:"row finish",style:t.finishstyle},[s("div",{staticClass:"col"},[s("vs-table",{staticClass:"table",attrs:{multiple:"",data:t.datas},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,r){return s("vs-tr",{key:r,attrs:{data:e}},[a[r].finish?s("vs-td",{staticClass:"border",attrs:{data:a[r].account}},[s("span",{staticClass:"text"},[t._v(t._s(a[r].account))])]):t._e(),a[r].finish?s("vs-td",{staticClass:"border",attrs:{data:a[r].title}},t._l(a[r].title,(function(e,a){return s("span",{key:a,staticClass:"text"},[t._v(t._s(e)),s("br"),s("br")])})),0):t._e(),a[r].finish?s("vs-td",{staticClass:"border",attrs:{data:a[r].number}},t._l(a[r].number,(function(e,a){return s("span",{key:a,staticClass:"text"},[t._v(t._s(e)),s("br"),s("br")])})),0):t._e(),a[r].finish?s("vs-td",{staticClass:"border",attrs:{data:a[r].value}},t._l(a[r].value,(function(e,a){return s("span",{key:a,staticClass:"text"},[t._v(t._s(e)),s("br"),s("br")])})),0):t._e(),a[r].finish?s("vs-td",{attrs:{data:a[r].id}},[s("span",{staticClass:"text"},[t._v(t._s(a[r].id))])]):t._e()],1)}))}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[s("template",{slot:"header"},[s("h1",{staticClass:"title text-center"},[t._v("已結案訂單")])]),s("template",{slot:"thead"},[s("vs-th",{staticClass:"item ",attrs:{"sort-key":"account"}},[t._v("帳號")]),s("vs-th",{staticClass:"item ",attrs:{"sort-key":"title"}},[t._v("項目")]),s("vs-th",{staticClass:"item ",attrs:{"sort-key":"number"}},[t._v("數量")]),s("vs-th",{staticClass:"item ",attrs:{"sort-key":"value"}},[t._v("單價")]),s("vs-th",{staticClass:"item ",attrs:{"sort-key":"id"}},[t._v("訂單編號")])],1)],2),s("div",{staticClass:"d-flex mt-3 justify-content-center mb-5"},[s("div",{staticClass:"col-lg-3 col-6 d-flex justify-content-center"},[s("vs-button",{attrs:{color:"danger",type:"filled"},on:{click:function(e){return t.openDeleteConfirm()}}},[t._v("刪除")])],1),s("div",{staticClass:"col-lg-3 col-6 d-flex justify-content-center"},[s("vs-button",{attrs:{color:"success",type:"filled"},on:{click:t.changetoggle}},[t._v("已結案訂單")])],1)])],1)])])])},r=[],i=(s("4160"),s("159b"),{data:function(){return{index:"",datas:[],selected:[],allstyle:"",cartorderstyle:"",finishstyle:"",toggle:!1}},methods:{changetoggle:function(){this.toggle=!this.toggle,this.selected=[],this.toggle?(this.allstyle={transform:"rotateY(180deg)"},this.cartorderstyle={pointerEvents:"none",opacity:"0"},this.finishstyle={pointerEvents:"auto",opacity:"1"}):(this.allstyle={transform:"rotateY(0deg)"},this.cartorderstyle={pointerEvents:"auto",opacity:"1"},this.finishstyle={pointerEvents:"none",opacity:"0"})},openConfirm:function(){this.$vs.dialog({type:"confirm",color:"success",title:"確認結案",text:"確定結案訂單嗎",accept:this.acceptAlert})},acceptAlert:function(t){var e=this;this.selected.length<1?this.$vs.notify({color:"danger",title:"錯誤",text:"未選擇結案項目"}):(this.$vs.notify({color:"primary",title:"已結案",text:"已順利結案所選項目"}),this.selected.forEach((function(t){e.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/finishcartorder",{id:t.id,finish:!0}).then((function(t){t.data.success?(e.$swal("成功","結案成功","success"),e.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/allcartorder").then((function(t){e.datas=t.data.result}))):e.$swal("錯誤","".concat(t.data.message),"error")})).catch((function(t){e.$swal("錯誤","".concat(t.response.data.message),"error")}))})))},openDeleteConfirm:function(){this.$vs.dialog({type:"confirm",color:"danger",title:"確認刪除",text:"確認刪除所選項目嗎",accept:this.acceptDeleteAlert})},acceptDeleteAlert:function(t){var e=this;this.selected.length<1?this.$vs.notify({color:"danger",title:"錯誤",text:"未選擇刪除所選項目"}):(this.$vs.notify({color:"primary",title:"已刪除",text:"已順利刪除所選項目"}),this.selected.forEach((function(t){e.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/cancelcartorder",{id:t.id}).then((function(t){t.data.success?(e.$swal("成功","刪除成功","success"),e.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/allcartorder").then((function(t){e.datas=t.data.result}))):e.$swal("錯誤","".concat(t.data.message),"error")})).catch((function(t){e.$swal("錯誤","".concat(t.response.data.message),"error")}))})))}},computed:{allvalue:function(){var t=0,e=0;return this.selected.forEach((function(s){t+=parseInt(s.value[e])*parseInt(s.number[e]),e++})),t}},mounted:function(){var t=this;this.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/allcartorder").then((function(e){t.datas=e.data.result,console.log(t.datas)})).catch((function(e){t.$swal("錯誤","".concat(e.response.data.message),"error")}))}}),n=i,c=(s("bb92"),s("2877")),o=Object(c["a"])(n,a,r,!1,null,null,null);e["default"]=o.exports},ae40:function(t,e,s){var a=s("83ab"),r=s("d039"),i=s("5135"),n=Object.defineProperty,c={},o=function(t){throw t};t.exports=function(t,e){if(i(c,t))return c[t];e||(e={});var s=[][t],l=!!i(e,"ACCESSORS")&&e.ACCESSORS,u=i(e,0)?e[0]:o,d=i(e,1)?e[1]:void 0;return c[t]=!!s&&!r((function(){if(l&&!a)return!0;var t={length:-1};l?n(t,1,{enumerable:!0,get:o}):t[1]=1,s.call(t,u,d)}))}},b727:function(t,e,s){var a=s("0366"),r=s("44ad"),i=s("7b0b"),n=s("50c4"),c=s("65f0"),o=[].push,l=function(t){var e=1==t,s=2==t,l=3==t,u=4==t,d=6==t,f=5==t||d;return function(v,h,p,_){for(var y,b,m=i(v),C=r(m),g=a(h,p,3),x=n(C.length),E=0,L=_||c,k=e?L(v,x):s?L(v,0):void 0;x>E;E++)if((f||E in C)&&(y=C[E],b=g(y,E,m),t))if(e)k[E]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return E;case 2:o.call(k,y)}else if(u)return!1;return d?-1:l||u?u:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},bb92:function(t,e,s){"use strict";var a=s("a553"),r=s.n(a);r.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=back_cart.926abaae.js.map