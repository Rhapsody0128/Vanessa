(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["back_cart"],{"159b":function(t,e,s){var a=s("da84"),r=s("fdbc"),n=s("17c2"),c=s("9112");for(var i in r){var o=a[i],l=o&&o.prototype;if(l&&l.forEach!==n)try{c(l,"forEach",n)}catch(u){l.forEach=n}}},"17c2":function(t,e,s){"use strict";var a=s("b727").forEach,r=s("a640"),n=s("ae40"),c=r("forEach"),i=n("forEach");t.exports=c&&i?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,e,s){"use strict";var a=s("23e7"),r=s("17c2");a({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},a553:function(t,e,s){},a640:function(t,e,s){"use strict";var a=s("d039");t.exports=function(t,e){var s=[][t];return!!s&&a((function(){s.call(null,e||function(){throw 1},1)}))}},a9a5:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"back_order"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("vs-table",{attrs:{multiple:"",data:t.datas},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,r){return s("vs-tr",{key:r,attrs:{data:e}},[a[r].finish?t._e():s("vs-td",{staticClass:"p-lg-3",attrs:{data:a[r].account}},[s("span",{staticClass:"text"},[t._v(t._s(a[r].account))])]),a[r].finish?t._e():s("vs-td",{staticClass:"p-lg-3",attrs:{data:a[r].title}},t._l(a[r].title,(function(e,a){return s("span",{key:a,staticClass:"text"},[t._v(t._s(e)),s("br")])})),0),a[r].finish?t._e():s("vs-td",{staticClass:"p-lg-3",attrs:{data:a[r].number}},t._l(a[r].number,(function(e,a){return s("span",{key:a,staticClass:"text"},[t._v(t._s(e)),s("br")])})),0),a[r].finish?t._e():s("vs-td",{staticClass:"p-lg-3",attrs:{data:a[r].value}},t._l(a[r].value,(function(e,a){return s("span",{key:a,staticClass:"text"},[t._v(t._s(e)),s("br")])})),0),a[r].finish?t._e():s("vs-td",{staticClass:"p-lg-3",attrs:{data:a[r].id}},[s("span",{staticClass:"text"},[t._v(t._s(a[r].id))])])],1)}))}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[s("template",{slot:"header"},[s("h1",{staticClass:"title text-center"},[t._v("訂單資訊")])]),s("template",{slot:"thead"},[s("vs-th",{staticClass:"item p-lg-3",attrs:{"sort-key":"account"}},[t._v("帳號")]),s("vs-th",{staticClass:"item p-lg-3",attrs:{"sort-key":"title"}},[t._v("項目")]),s("vs-th",{staticClass:"item p-lg-3",attrs:{"sort-key":"number"}},[t._v("數量")]),s("vs-th",{staticClass:"item p-lg-3",attrs:{"sort-key":"value"}},[t._v("單價")]),s("vs-th",{staticClass:"item p-lg-3",attrs:{"sort-key":"id"}},[t._v("訂單編號")])],1)],2),s("h4",{staticClass:"text-right"},[t._v("所選定單總價為:"+t._s(t.allvalue)+"元")]),s("div",{staticClass:"d-flex mt-3 justify-content-center mb-5"},[s("div",{staticClass:"col-lg-3 col-6 d-flex justify-content-center"},[s("vs-button",{attrs:{color:"success",type:"filled"},on:{click:function(e){return t.openConfirm()}}},[t._v("結案")])],1),s("div",{staticClass:"col-lg-3 col-6 d-flex justify-content-center"},[s("vs-button",{attrs:{color:"danger",type:"filled"},on:{click:function(e){return t.openDeleteConfirm()}}},[t._v("刪除")])],1)])],1)])])},r=[],n=(s("4160"),s("159b"),{data:function(){return{index:"",datas:[],selected:[]}},methods:{openConfirm:function(){this.$vs.dialog({type:"confirm",color:"success",title:"確認結案",text:"確定結案訂單嗎",accept:this.acceptAlert})},acceptAlert:function(t){var e=this;this.selected.length<1?this.$vs.notify({color:"danger",title:"錯誤",text:"未選擇結案項目"}):(this.$vs.notify({color:"primary",title:"已結案",text:"已順利結案所選項目"}),this.selected.forEach((function(t){e.axios.post("http://localhost:3000/finishcartorder",{id:t.id,finish:!0}).then((function(t){t.data.success?(e.$swal("成功","結案成功","success"),e.axios.post("http://localhost:3000/allcartorder").then((function(t){e.datas=t.data.result}))):e.$swal("錯誤","".concat(t.data.message),"error")})).catch((function(t){e.$swal("錯誤","".concat(t.response.data.message),"error")}))})))},openDeleteConfirm:function(){this.$vs.dialog({type:"confirm",color:"danger",title:"確認刪除",text:"確認刪除所選項目嗎",accept:this.acceptDeleteAlert})},acceptDeleteAlert:function(t){var e=this;this.selected.length<1?this.$vs.notify({color:"danger",title:"錯誤",text:"未選擇刪除所選項目"}):(this.$vs.notify({color:"primary",title:"已刪除",text:"已順利刪除所選項目"}),this.selected.forEach((function(t){e.axios.post("http://localhost:3000/cancelcartorder",{id:t.id}).then((function(t){t.data.success?(e.$swal("成功","刪除成功","success"),e.axios.post("http://localhost:3000/allcartorder").then((function(t){e.datas=t.data.result}))):e.$swal("錯誤","".concat(t.data.message),"error")})).catch((function(t){e.$swal("錯誤","".concat(t.response.data.message),"error")}))})))}},computed:{allvalue:function(){var t=0,e=0;return this.selected.forEach((function(s){t+=parseInt(s.value[e])*parseInt(s.number[e]),e++})),t}},mounted:function(){var t=this;this.axios.post("http://localhost:3000/allcartorder").then((function(e){t.datas=e.data.result})).catch((function(e){t.$swal("錯誤","".concat(e.response.data.message),"error")}))}}),c=n,i=(s("bb92"),s("2877")),o=Object(i["a"])(c,a,r,!1,null,null,null);e["default"]=o.exports},ae40:function(t,e,s){var a=s("83ab"),r=s("d039"),n=s("5135"),c=Object.defineProperty,i={},o=function(t){throw t};t.exports=function(t,e){if(n(i,t))return i[t];e||(e={});var s=[][t],l=!!n(e,"ACCESSORS")&&e.ACCESSORS,u=n(e,0)?e[0]:o,f=n(e,1)?e[1]:void 0;return i[t]=!!s&&!r((function(){if(l&&!a)return!0;var t={length:-1};l?c(t,1,{enumerable:!0,get:o}):t[1]=1,s.call(t,u,f)}))}},b727:function(t,e,s){var a=s("0366"),r=s("44ad"),n=s("7b0b"),c=s("50c4"),i=s("65f0"),o=[].push,l=function(t){var e=1==t,s=2==t,l=3==t,u=4==t,f=6==t,d=5==t||f;return function(h,v,p,m){for(var g,C,_=n(h),b=r(_),y=a(v,p,3),x=c(b.length),L=0,S=m||i,k=e?S(h,x):s?S(h,0):void 0;x>L;L++)if((d||L in b)&&(g=b[L],C=y(g,L,_),t))if(e)k[L]=C;else if(C)switch(t){case 3:return!0;case 5:return g;case 6:return L;case 2:o.call(k,g)}else if(u)return!1;return f?-1:l||u?u:k}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},bb92:function(t,e,s){"use strict";var a=s("a553"),r=s.n(a);r.a},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=back_cart.aeaa7236.js.map