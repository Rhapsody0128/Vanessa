{"version":3,"sources":["webpack:///./node_modules/rematrix/dist/rematrix.es.js","webpack:///./node_modules/flipbook-vue/dist/flipbook.es.js"],"names":["format","source","constructor","Array","TypeError","length","matrix","identity","RangeError","i","push","multiply","m","x","fm","fx","product","row","j","k","col","result","perspective","distance","rotateY","angle","theta","Math","PI","cos","sin","join","translate","distanceX","distanceY","translate3d","distanceZ","undefined","IE","easeIn","easeInOut","easeOut","Matrix$1","Matrix","arg","this","concat","prototype","clone","d","transformX","y","z","deg","toString","pow","test","navigator","userAgent","script","props","pages","type","required","pagesHiRes","default","flipDuration","Number","zoomDuration","zooms","nPolygons","ambient","gloss","swipeMin","singlePage","Boolean","forwardDirection","validator","val","centering","startPage","data","viewWidth","viewHeight","imageWidth","imageHeight","displayedPages","nImageLoad","nImageLoadTrigger","imageLoadCallback","currentPage","firstPage","secondPage","zoomIndex","zoom","zooming","touchStartX","touchStartY","maxMove","activeCursor","hasTouchEvents","hasPointerEvents","minX","maxX","preloadedImages","flip","progress","direction","frontImage","backImage","auto","opacity","currentCenterOffset","animatingCenter","startScrollLeft","startScrollTop","scrollLeft","scrollTop","computed","canFlipLeft","canGoForward","canGoBack","canFlipRight","canZoomIn","zooms_","canZoomOut","numPages","page","max","pageUrl","leftPage","rightPage","showLeftPage","showRightPage","cursor","pageScale","scale","vw","xScale","yScale","pageWidth","round","pageHeight","xMargin","yMargin","polygonWidth","w","ceil","polygonHeight","polygonBgSize","polygonArray","makePolygonArray","boundingLeft","boundingRight","centerOffset","retval","centerOffsetSmoothed","dragToScroll","scrollLeftMin","scrollLeftMax","scrollTopMin","h","scrollTopMax","scrollLeftLimited","min","scrollTopLimited","mounted","window","addEventListener","onResize","passive","preloadImages","goToPage","beforeDestroy","removeEventListener","methods","viewport","$refs","clientWidth","clientHeight","fixFirstPage","hiRes","url","flipLeft","flipStart","flipRight","face","bgImg","bgPos","dRadian","dRotate","image","lighting","originRight","pageMatrix","pageRotation","pageX","rad","radian","radius","ref","results","rotate","x0","x1","computeLighting","abs","rot","DEG","POW","blackness","diffuse","gradients","lightingPoints","specular","map","this$1","requestAnimationFrame","flipAuto","ease","animate","duration","startRatio","t0","Date","now","$emit","ratio","t","onImageLoad","flipRevert","trigger","cb","didLoadImage","ev","target","path","naturalWidth","naturalHeight","zoomIn","zoomTo","zoomOut","fixedX","fixedY","containerFixedX","containerFixedY","end","endX","endY","start","startX","startY","zoomAt","touch","rect","getBoundingClientRect","left","pageY","top","swipeStart","swipeMove","dragScroll","swipeEnd","onTouchStart","changedTouches","onTouchMove","cancelable","preventDefault","onTouchEnd","onPointerDown","which","setPointerCapture","pointerId","error","onPointerMove","onPointerUp","releasePointerCapture","onMouseDown","onMouseMove","onMouseUp","onWheel","deltaX","deltaY","img","ref1","ref2","ref3","Object","keys","Image","src","p","watch","diff","rate","after","before","normalizeComponent","template","style","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","hook","options","render","staticRenderFns","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","existing","beforeCreate","HEAD","isOldIE","toLowerCase","id","addStyle","styles","css","group","media","ids","Set","has","code","sources","btoa","unescape","encodeURIComponent","JSON","stringify","element","document","createElement","setAttribute","head","getElementsByTagName","appendChild","styleSheet","cssText","filter","index","size","textNode","createTextNode","nodes","childNodes","removeChild","insertBefore","__vue_script__","__vue_render__","_vm","_h","$createElement","_c","_self","_t","_v","staticClass","class","on","transform","width","height","attrs","$event","_e","_l","key","bgImage","blank","backgroundImage","backgroundSize","backgroundPosition","zIndex","directives","name","rawName","value","expression","__vue_staticRenderFns__","__vue_inject_styles__","inject","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_component__"],"mappings":"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","file":"js/menu~story.a6859d71.js","sourcesContent":["/*! @license Rematrix v0.4.1\n\n\tCopyright 2019 Julian Lloyd.\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy\n\tof this software and associated documentation files (the \"Software\"), to deal\n\tin the Software without restriction, including without limitation the rights\n\tto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n\tcopies of the Software, and to permit persons to whom the Software is\n\tfurnished to do so, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in\n\tall copies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n\tTHE SOFTWARE.\n*/\n/**\n * @module Rematrix\n */\n\n/**\n * Attempts to return a 4x4 matrix describing the CSS transform\n * matrix passed in, but will return the identity matrix as a\n * fallback.\n *\n * @param  {string} source - `matrix` or `matrix3d` CSS Transform value.\n * @return {array}\n */\nfunction fromString(source) {\n  if (typeof source === 'string') {\n    var match = source.match(/matrix(3d)?\\(([^)]+)\\)/);\n    if (match) {\n      var raw = match[2].split(', ').map(parseFloat);\n      return format(raw)\n    }\n  }\n  return identity()\n}\n\n/**\n * Transformation matrices in the browser come in two flavors:\n *\n *  - `matrix` using 6 values (short)\n *  - `matrix3d` using 16 values (long)\n *\n * This utility follows this [conversion guide](https://goo.gl/EJlUQ1)\n * to expand short form matrices to their equivalent long form.\n *\n * @param  {array} source - Accepts both short and long form matrices.\n * @return {array}\n */\nfunction format(source) {\n  if (source.constructor !== Array) {\n    throw new TypeError('Expected array.')\n  }\n  if (source.length === 16) {\n    return source\n  }\n  if (source.length === 6) {\n    var matrix = identity();\n    matrix[0] = source[0];\n    matrix[1] = source[1];\n    matrix[4] = source[2];\n    matrix[5] = source[3];\n    matrix[12] = source[4];\n    matrix[13] = source[5];\n    return matrix\n  }\n  throw new RangeError('Expected array with either 6 or 16 values.')\n}\n\n/**\n * Returns a matrix representing no transformation. The product of any matrix\n * multiplied by the identity matrix will be the original matrix.\n *\n * > **Tip:** Similar to how `5 * 1 === 5`, where `1` is the identity.\n *\n * @return {array}\n */\nfunction identity() {\n  var matrix = [];\n  for (var i = 0; i < 16; i++) {\n    i % 5 == 0 ? matrix.push(1) : matrix.push(0);\n  }\n  return matrix\n}\n\n/**\n * Returns a matrix describing the inverse transformation of the source\n * matrix. The product of any matrix multiplied by its inverse will be the\n * identity matrix.\n *\n * > **Tip:** Similar to how `5 * (1/5) === 1`, where `1/5` is the inverse.\n *\n * @param  {array} source - Accepts both short and long form matrices.\n * @return {array}\n */\nfunction inverse(source) {\n  var m = format(source);\n\n  var s0 = m[0] * m[5] - m[4] * m[1];\n  var s1 = m[0] * m[6] - m[4] * m[2];\n  var s2 = m[0] * m[7] - m[4] * m[3];\n  var s3 = m[1] * m[6] - m[5] * m[2];\n  var s4 = m[1] * m[7] - m[5] * m[3];\n  var s5 = m[2] * m[7] - m[6] * m[3];\n\n  var c5 = m[10] * m[15] - m[14] * m[11];\n  var c4 = m[9] * m[15] - m[13] * m[11];\n  var c3 = m[9] * m[14] - m[13] * m[10];\n  var c2 = m[8] * m[15] - m[12] * m[11];\n  var c1 = m[8] * m[14] - m[12] * m[10];\n  var c0 = m[8] * m[13] - m[12] * m[9];\n\n  var determinant = 1 / (s0 * c5 - s1 * c4 + s2 * c3 + s3 * c2 - s4 * c1 + s5 * c0);\n\n  if (isNaN(determinant) || determinant === Infinity) {\n    throw new Error('Inverse determinant attempted to divide by zero.')\n  }\n\n  return [\n    (m[5] * c5 - m[6] * c4 + m[7] * c3) * determinant,\n    (-m[1] * c5 + m[2] * c4 - m[3] * c3) * determinant,\n    (m[13] * s5 - m[14] * s4 + m[15] * s3) * determinant,\n    (-m[9] * s5 + m[10] * s4 - m[11] * s3) * determinant,\n\n    (-m[4] * c5 + m[6] * c2 - m[7] * c1) * determinant,\n    (m[0] * c5 - m[2] * c2 + m[3] * c1) * determinant,\n    (-m[12] * s5 + m[14] * s2 - m[15] * s1) * determinant,\n    (m[8] * s5 - m[10] * s2 + m[11] * s1) * determinant,\n\n    (m[4] * c4 - m[5] * c2 + m[7] * c0) * determinant,\n    (-m[0] * c4 + m[1] * c2 - m[3] * c0) * determinant,\n    (m[12] * s4 - m[13] * s2 + m[15] * s0) * determinant,\n    (-m[8] * s4 + m[9] * s2 - m[11] * s0) * determinant,\n\n    (-m[4] * c3 + m[5] * c1 - m[6] * c0) * determinant,\n    (m[0] * c3 - m[1] * c1 + m[2] * c0) * determinant,\n    (-m[12] * s3 + m[13] * s1 - m[14] * s0) * determinant,\n    (m[8] * s3 - m[9] * s1 + m[10] * s0) * determinant ]\n}\n\n/**\n * Returns a 4x4 matrix describing the combined transformations\n * of both arguments.\n *\n * > **Note:** Order is very important. For example, rotating 45°\n * along the Z-axis, followed by translating 500 pixels along the\n * Y-axis... is not the same as translating 500 pixels along the\n * Y-axis, followed by rotating 45° along on the Z-axis.\n *\n * @param  {array} m - Accepts both short and long form matrices.\n * @param  {array} x - Accepts both short and long form matrices.\n * @return {array}\n */\nfunction multiply(m, x) {\n  var fm = format(m);\n  var fx = format(x);\n  var product = [];\n\n  for (var i = 0; i < 4; i++) {\n    var row = [fm[i], fm[i + 4], fm[i + 8], fm[i + 12]];\n    for (var j = 0; j < 4; j++) {\n      var k = j * 4;\n      var col = [fx[k], fx[k + 1], fx[k + 2], fx[k + 3]];\n      var result = row[0] * col[0] + row[1] * col[1] + row[2] * col[2] + row[3] * col[3];\n\n      product[i + k] = result;\n    }\n  }\n\n  return product\n}\n\n/**\n * This method has been deprecated!\n * See `Rematrix.fromString` instead.\n */\nfunction parse(source) {\n  console.warn('The `parse` method has been deprecated, please use `fromString`');\n  return fromString(source)\n}\n\n/**\n * Returns a 4x4 matrix describing perspective.\n *\n * @param  {number} distance - Measured in pixels.\n * @return {array}\n */\nfunction perspective(distance) {\n  var matrix = identity();\n  matrix[11] = -1 / distance;\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Z-axis rotation.\n *\n * > **Tip:** This is just an alias for `Rematrix.rotateZ` for parity with CSS\n *\n * @param  {number} angle - Measured in degrees.\n * @return {array}\n */\nfunction rotate(angle) {\n  return rotateZ(angle)\n}\n\n/**\n * Returns a 4x4 matrix describing X-axis rotation.\n *\n * @param  {number} angle - Measured in degrees.\n * @return {array}\n */\nfunction rotateX(angle) {\n  var theta = (Math.PI / 180) * angle;\n  var matrix = identity();\n\n  matrix[5] = matrix[10] = Math.cos(theta);\n  matrix[6] = matrix[9] = Math.sin(theta);\n  matrix[9] *= -1;\n\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Y-axis rotation.\n *\n * @param  {number} angle - Measured in degrees.\n * @return {array}\n */\nfunction rotateY(angle) {\n  var theta = (Math.PI / 180) * angle;\n  var matrix = identity();\n\n  matrix[0] = matrix[10] = Math.cos(theta);\n  matrix[2] = matrix[8] = Math.sin(theta);\n  matrix[2] *= -1;\n\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Z-axis rotation.\n *\n * @param  {number} angle - Measured in degrees.\n * @return {array}\n */\nfunction rotateZ(angle) {\n  var theta = (Math.PI / 180) * angle;\n  var matrix = identity();\n\n  matrix[0] = matrix[5] = Math.cos(theta);\n  matrix[1] = matrix[4] = Math.sin(theta);\n  matrix[4] *= -1;\n\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing 2D scaling. The first argument\n * is used for both X and Y-axis scaling, unless an optional\n * second argument is provided to explicitly define Y-axis scaling.\n *\n * @param  {number} scalar    - Decimal multiplier.\n * @param  {number} [scalarY] - Decimal multiplier.\n * @return {array}\n */\nfunction scale(scalar, scalarY) {\n  var matrix = identity();\n\n  matrix[0] = scalar;\n  matrix[5] = typeof scalarY === 'number' ? scalarY : scalar;\n\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing X-axis scaling.\n *\n * @param  {number} scalar - Decimal multiplier.\n * @return {array}\n */\nfunction scaleX(scalar) {\n  var matrix = identity();\n  matrix[0] = scalar;\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Y-axis scaling.\n *\n * @param  {number} scalar - Decimal multiplier.\n * @return {array}\n */\nfunction scaleY(scalar) {\n  var matrix = identity();\n  matrix[5] = scalar;\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Z-axis scaling.\n *\n * @param  {number} scalar - Decimal multiplier.\n * @return {array}\n */\nfunction scaleZ(scalar) {\n  var matrix = identity();\n  matrix[10] = scalar;\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing shear. The first argument\n * defines X-axis shearing, and an optional second argument\n * defines Y-axis shearing.\n *\n * @param  {number} angleX   - Measured in degrees.\n * @param  {number} [angleY] - Measured in degrees.\n * @return {array}\n */\nfunction skew(angleX, angleY) {\n  var thetaX = (Math.PI / 180) * angleX;\n  var matrix = identity();\n\n  matrix[4] = Math.tan(thetaX);\n\n  if (angleY) {\n    var thetaY = (Math.PI / 180) * angleY;\n    matrix[1] = Math.tan(thetaY);\n  }\n\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing X-axis shear.\n *\n * @param  {number} angle - Measured in degrees.\n * @return {array}\n */\nfunction skewX(angle) {\n  var theta = (Math.PI / 180) * angle;\n  var matrix = identity();\n\n  matrix[4] = Math.tan(theta);\n\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Y-axis shear.\n *\n * @param  {number} angle - Measured in degrees\n * @return {array}\n */\nfunction skewY(angle) {\n  var theta = (Math.PI / 180) * angle;\n  var matrix = identity();\n\n  matrix[1] = Math.tan(theta);\n\n  return matrix\n}\n\n/**\n * Returns a CSS Transform property value equivalent to the source matrix.\n *\n * @param  {array} source - Accepts both short and long form matrices.\n * @return {string}\n */\nfunction toString(source) {\n  return (\"matrix3d(\" + (format(source).join(', ')) + \")\")\n}\n\n/**\n * Returns a 4x4 matrix describing 2D translation. The first\n * argument defines X-axis translation, and an optional second\n * argument defines Y-axis translation.\n *\n * @param  {number} distanceX   - Measured in pixels.\n * @param  {number} [distanceY] - Measured in pixels.\n * @return {array}\n */\nfunction translate(distanceX, distanceY) {\n  var matrix = identity();\n  matrix[12] = distanceX;\n\n  if (distanceY) {\n    matrix[13] = distanceY;\n  }\n\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing 3D translation. The first\n * argument defines X-axis translation, the second argument defines Y-axis\n * translation, and the third argument defines Z-axis translation.\n *\n * @param  {number} distanceX - Measured in pixels.\n * @param  {number} distanceY - Measured in pixels.\n * @param  {number} distanceZ - Measured in pixels.\n * @return {array}\n */\nfunction translate3d(distanceX, distanceY, distanceZ) {\n  var matrix = identity();\n  if (distanceX !== undefined && distanceY !== undefined && distanceZ !== undefined) {\n    matrix[12] = distanceX;\n    matrix[13] = distanceY;\n    matrix[14] = distanceZ;\n  }\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing X-axis translation.\n *\n * @param  {number} distance - Measured in pixels.\n * @return {array}\n */\nfunction translateX(distance) {\n  var matrix = identity();\n  matrix[12] = distance;\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Y-axis translation.\n *\n * @param  {number} distance - Measured in pixels.\n * @return {array}\n */\nfunction translateY(distance) {\n  var matrix = identity();\n  matrix[13] = distance;\n  return matrix\n}\n\n/**\n * Returns a 4x4 matrix describing Z-axis translation.\n *\n * @param  {number} distance - Measured in pixels.\n * @return {array}\n */\nfunction translateZ(distance) {\n  var matrix = identity();\n  matrix[14] = distance;\n  return matrix\n}\n\nexport { format, fromString, identity, inverse, multiply, parse, perspective, rotate, rotateX, rotateY, rotateZ, scale, scaleX, scaleY, scaleZ, skew, skewX, skewY, toString, translate, translate3d, translateX, translateY, translateZ };\n","/*!\n * @license\n * flipbook-vue v0.8.1\n * Copyright © 2020 Takeshi Sone.\n * Released under the MIT License.\n */\n\nimport { multiply, perspective, translate, translate3d, rotateY, toString, identity } from 'rematrix';\n\nvar Matrix;\n\nvar Matrix$1 = Matrix = /*@__PURE__*/(function () {\n  function Matrix(arg) {\n    if (arg) {\n      if (arg.m) {\n        this.m = [].concat( arg.m );\n      } else {\n        this.m = [].concat( arg );\n      }\n    } else {\n      this.m = identity();\n    }\n  }\n\n  Matrix.prototype.clone = function clone () {\n    return new Matrix(this);\n  };\n\n  Matrix.prototype.multiply = function multiply$1 (m) {\n    return this.m = multiply(this.m, m);\n  };\n\n  Matrix.prototype.perspective = function perspective$1 (d) {\n    return this.multiply(perspective(d));\n  };\n\n  Matrix.prototype.transformX = function transformX (x) {\n    return (x * this.m[0] + this.m[12]) / (x * this.m[3] + this.m[15]);\n  };\n\n  Matrix.prototype.translate = function translate$1 (x, y) {\n    return this.multiply(translate(x, y));\n  };\n\n  Matrix.prototype.translate3d = function translate3d$1 (x, y, z) {\n    return this.multiply(translate3d(x, y, z));\n  };\n\n  Matrix.prototype.rotateY = function rotateY$1 (deg) {\n    return this.multiply(rotateY(deg));\n  };\n\n  Matrix.prototype.toString = function toString$1 () {\n    return toString(this.m);\n  };\n\n  return Matrix;\n}());\n\nvar IE, easeIn, easeInOut, easeOut;\n\neaseIn = function(x) {\n  return Math.pow(x, 2);\n};\n\neaseOut = function(x) {\n  return 1 - easeIn(1 - x);\n};\n\neaseInOut = function(x) {\n  if (x < 0.5) {\n    return easeIn(x * 2) / 2;\n  } else {\n    return 0.5 + easeOut((x - 0.5) * 2) / 2;\n  }\n};\n\nIE = /Trident/.test(navigator.userAgent);\n\nvar script = {\n  props: {\n    pages: {\n      type: Array,\n      required: true\n    },\n    pagesHiRes: {\n      type: Array,\n      default: function() {\n        return [];\n      }\n    },\n    flipDuration: {\n      type: Number,\n      default: 1000\n    },\n    zoomDuration: {\n      type: Number,\n      default: 500\n    },\n    zooms: {\n      type: Array,\n      default: function() {\n        return [1, 2, 4];\n      }\n    },\n    perspective: {\n      type: Number,\n      default: 2400\n    },\n    nPolygons: {\n      type: Number,\n      default: 10\n    },\n    ambient: {\n      type: Number,\n      default: 0.4\n    },\n    gloss: {\n      type: Number,\n      default: 0.6\n    },\n    swipeMin: {\n      type: Number,\n      default: 3\n    },\n    singlePage: {\n      type: Boolean,\n      default: false\n    },\n    forwardDirection: {\n      validator: function(val) {\n        return val === 'right' || val === 'left';\n      },\n      default: 'right'\n    },\n    centering: {\n      type: Boolean,\n      default: true\n    },\n    startPage: {\n      type: Number,\n      default: null\n    }\n  },\n  data: function() {\n    return {\n      viewWidth: 0,\n      viewHeight: 0,\n      imageWidth: null,\n      imageHeight: null,\n      displayedPages: 1,\n      nImageLoad: 0,\n      nImageLoadTrigger: 0,\n      imageLoadCallback: null,\n      currentPage: 0,\n      firstPage: 0,\n      secondPage: 1,\n      zoomIndex: 0,\n      zoom: 1,\n      zooming: false,\n      touchStartX: null,\n      touchStartY: null,\n      maxMove: 0,\n      activeCursor: null,\n      hasTouchEvents: false,\n      hasPointerEvents: false,\n      minX: 2e308,\n      maxX: -2e308,\n      preloadedImages: {},\n      flip: {\n        progress: 0,\n        direction: null,\n        frontImage: null,\n        backImage: null,\n        auto: false,\n        opacity: 1\n      },\n      currentCenterOffset: null,\n      animatingCenter: false,\n      startScrollLeft: 0,\n      startScrollTop: 0,\n      scrollLeft: 0,\n      scrollTop: 0\n    };\n  },\n  computed: {\n    canFlipLeft: function() {\n      if (this.forwardDirection === 'left') {\n        return this.canGoForward;\n      } else {\n        return this.canGoBack;\n      }\n    },\n    canFlipRight: function() {\n      if (this.forwardDirection === 'right') {\n        return this.canGoForward;\n      } else {\n        return this.canGoBack;\n      }\n    },\n    canZoomIn: function() {\n      return !this.zooming && this.zoomIndex < this.zooms_.length - 1;\n    },\n    canZoomOut: function() {\n      return !this.zooming && this.zoomIndex > 0;\n    },\n    numPages: function() {\n      if (this.pages[0] === null) {\n        return this.pages.length - 1;\n      } else {\n        return this.pages.length;\n      }\n    },\n    page: function() {\n      if (this.pages[0] !== null) {\n        return this.currentPage + 1;\n      } else {\n        return Math.max(1, this.currentPage);\n      }\n    },\n    zooms_: function() {\n      return this.zooms || [1];\n    },\n    canGoForward: function() {\n      return !this.flip.direction && this.currentPage < this.pages.length - this.displayedPages;\n    },\n    canGoBack: function() {\n      return !this.flip.direction && this.currentPage >= this.displayedPages && !(this.displayedPages === 1 && !this.pageUrl(this.firstPage - 1));\n    },\n    leftPage: function() {\n      if (this.forwardDirection === 'right' || this.displayedPages === 1) {\n        return this.firstPage;\n      } else {\n        return this.secondPage;\n      }\n    },\n    rightPage: function() {\n      if (this.forwardDirection === 'left') {\n        return this.firstPage;\n      } else {\n        return this.secondPage;\n      }\n    },\n    showLeftPage: function() {\n      return this.pageUrl(this.leftPage);\n    },\n    showRightPage: function() {\n      return this.pageUrl(this.rightPage) && this.displayedPages === 2;\n    },\n    cursor: function() {\n      if (this.activeCursor) {\n        return this.activeCursor;\n      } else if (IE) {\n        return 'auto';\n      } else if (this.canZoomIn) {\n        return 'zoom-in';\n      } else if (this.canZoomOut) {\n        return 'zoom-out';\n      } else {\n        return 'grab';\n      }\n    },\n    pageScale: function() {\n      var scale, vw, xScale, yScale;\n      vw = this.viewWidth / this.displayedPages;\n      xScale = vw / this.imageWidth;\n      yScale = this.viewHeight / this.imageHeight;\n      scale = xScale < yScale ? xScale : yScale;\n      if (scale < 1) {\n        return scale;\n      } else {\n        return 1;\n      }\n    },\n    pageWidth: function() {\n      return Math.round(this.imageWidth * this.pageScale);\n    },\n    pageHeight: function() {\n      return Math.round(this.imageHeight * this.pageScale);\n    },\n    xMargin: function() {\n      return (this.viewWidth - this.pageWidth * this.displayedPages) / 2;\n    },\n    yMargin: function() {\n      return (this.viewHeight - this.pageHeight) / 2;\n    },\n    polygonWidth: function() {\n      var w;\n      w = this.pageWidth / this.nPolygons;\n      w = Math.ceil(w + 1 / this.zoom);\n      return w + 'px';\n    },\n    polygonHeight: function() {\n      return this.pageHeight + 'px';\n    },\n    polygonBgSize: function() {\n      return ((this.pageWidth) + \"px \" + (this.pageHeight) + \"px\");\n    },\n    polygonArray: function() {\n      return this.makePolygonArray('front').concat(this.makePolygonArray('back'));\n    },\n    boundingLeft: function() {\n      var x;\n      if (this.displayedPages === 1) {\n        return this.xMargin;\n      } else {\n        x = this.pageUrl(this.leftPage) ? this.xMargin : this.viewWidth / 2;\n        if (x < this.minX) {\n          return x;\n        } else {\n          return this.minX;\n        }\n      }\n    },\n    boundingRight: function() {\n      var x;\n      if (this.displayedPages === 1) {\n        return this.viewWidth - this.xMargin;\n      } else {\n        x = this.pageUrl(this.rightPage) ? this.viewWidth - this.xMargin : this.viewWidth / 2;\n        if (x > this.maxX) {\n          return x;\n        } else {\n          return this.maxX;\n        }\n      }\n    },\n    centerOffset: function() {\n      var retval;\n      retval = this.centering ? Math.round(this.viewWidth / 2 - (this.boundingLeft + this.boundingRight) / 2) : 0;\n      if (this.currentCenterOffset === null && this.imageWidth !== null) {\n        this.currentCenterOffset = retval;\n      }\n      return retval;\n    },\n    centerOffsetSmoothed: function() {\n      return Math.round(this.currentCenterOffset);\n    },\n    dragToScroll: function() {\n      return !this.hasTouchEvents;\n    },\n    scrollLeftMin: function() {\n      var w;\n      w = (this.boundingRight - this.boundingLeft) * this.zoom;\n      if (w < this.viewWidth) {\n        return (this.boundingLeft + this.centerOffsetSmoothed) * this.zoom - (this.viewWidth - w) / 2;\n      } else {\n        return (this.boundingLeft + this.centerOffsetSmoothed) * this.zoom;\n      }\n    },\n    scrollLeftMax: function() {\n      var w;\n      w = (this.boundingRight - this.boundingLeft) * this.zoom;\n      if (w < this.viewWidth) {\n        return (this.boundingLeft + this.centerOffsetSmoothed) * this.zoom - (this.viewWidth - w) / 2;\n      } else {\n        return (this.boundingRight + this.centerOffsetSmoothed) * this.zoom - this.viewWidth;\n      }\n    },\n    scrollTopMin: function() {\n      var h;\n      h = this.pageHeight * this.zoom;\n      if (h < this.viewHeight) {\n        return this.yMargin * this.zoom - (this.viewHeight - h) / 2;\n      } else {\n        return this.yMargin * this.zoom;\n      }\n    },\n    scrollTopMax: function() {\n      var h;\n      h = this.pageHeight * this.zoom;\n      if (h < this.viewHeight) {\n        return this.yMargin * this.zoom - (this.viewHeight - h) / 2;\n      } else {\n        return (this.yMargin + this.pageHeight) * this.zoom - this.viewHeight;\n      }\n    },\n    scrollLeftLimited: function() {\n      return Math.min(this.scrollLeftMax, Math.max(this.scrollLeftMin, this.scrollLeft));\n    },\n    scrollTopLimited: function() {\n      return Math.min(this.scrollTopMax, Math.max(this.scrollTopMin, this.scrollTop));\n    }\n  },\n  mounted: function() {\n    window.addEventListener('resize', this.onResize, {\n      passive: true\n    });\n    this.onResize();\n    this.preloadImages();\n    this.zoom = this.zooms_[0];\n    return this.goToPage(this.startPage);\n  },\n  beforeDestroy: function() {\n    return window.removeEventListener('resize', this.onResize, {\n      passive: true\n    });\n  },\n  methods: {\n    onResize: function() {\n      var viewport;\n      viewport = this.$refs.viewport;\n      if (!viewport) {\n        return;\n      }\n      this.viewWidth = viewport.clientWidth;\n      this.viewHeight = viewport.clientHeight;\n      this.displayedPages = this.viewWidth > this.viewHeight && !this.singlePage ? 2 : 1;\n      if (this.displayedPages === 2) {\n        this.currentPage &= ~1;\n      }\n      this.fixFirstPage();\n      this.minX = 2e308;\n      return this.maxX = -2e308;\n    },\n    fixFirstPage: function() {\n      if (this.displayedPages === 1 && this.currentPage === 0 && this.pages.length && !this.pageUrl(0)) {\n        return this.currentPage++;\n      }\n    },\n    pageUrl: function(page, hiRes) {\n      if ( hiRes === void 0 ) hiRes = false;\n\n      var url;\n      if (hiRes && this.zoom > 1 && !this.zooming) {\n        url = this.pagesHiRes[page];\n        if (url) {\n          return url;\n        }\n      }\n      return this.pages[page] || null;\n    },\n    flipLeft: function() {\n      if (!this.canFlipLeft) {\n        return;\n      }\n      return this.flipStart('left', true);\n    },\n    flipRight: function() {\n      if (!this.canFlipRight) {\n        return;\n      }\n      return this.flipStart('right', true);\n    },\n    makePolygonArray: function(face) {\n      var bgImg, bgPos, dRadian, dRotate, direction, i, image, j, lighting, m, originRight, pageMatrix, pageRotation, pageX, polygonWidth, progress, rad, radian, radius, ref, results, rotate, theta, x, x0, x1, z;\n      if (!this.flip.direction) {\n        return [];\n      }\n      progress = this.flip.progress;\n      direction = this.flip.direction;\n      if (this.displayedPages === 1 && direction !== this.forwardDirection) {\n        progress = 1 - progress;\n        direction = this.forwardDirection;\n      }\n      this.flip.opacity = this.displayedPages === 1 && progress > .7 ? 1 - (progress - .7) / .3 : 1;\n      image = face === 'front' ? this.flip.frontImage : this.flip.backImage;\n      bgImg = image && (\"url('\" + image + \"')\");\n      polygonWidth = this.pageWidth / this.nPolygons;\n      pageX = this.xMargin;\n      originRight = false;\n      if (this.displayedPages === 1) {\n        if (this.forwardDirection === 'right') {\n          if (face === 'back') {\n            originRight = true;\n            pageX = this.xMargin - this.pageWidth;\n          }\n        } else {\n          if (direction === 'left') {\n            if (face === 'back') {\n              pageX = this.pageWidth - this.xMargin;\n            } else {\n              originRight = true;\n            }\n          } else {\n            if (face === 'front') {\n              pageX = this.pageWidth - this.xMargin;\n            } else {\n              originRight = true;\n            }\n          }\n        }\n      } else {\n        if (direction === 'left') {\n          if (face === 'back') {\n            pageX = this.viewWidth / 2;\n          } else {\n            originRight = true;\n          }\n        } else {\n          if (face === 'front') {\n            pageX = this.viewWidth / 2;\n          } else {\n            originRight = true;\n          }\n        }\n      }\n      pageMatrix = new Matrix$1();\n      pageMatrix.translate(this.viewWidth / 2);\n      pageMatrix.perspective(this.perspective);\n      pageMatrix.translate(-this.viewWidth / 2);\n      pageMatrix.translate(pageX, this.yMargin);\n      pageRotation = 0;\n      if (progress > 0.5) {\n        pageRotation = -(progress - 0.5) * 2 * 180;\n      }\n      if (direction === 'left') {\n        pageRotation = -pageRotation;\n      }\n      if (face === 'back') {\n        pageRotation += 180;\n      }\n      if (pageRotation) {\n        if (originRight) {\n          pageMatrix.translate(this.pageWidth);\n        }\n        pageMatrix.rotateY(pageRotation);\n        if (originRight) {\n          pageMatrix.translate(-this.pageWidth);\n        }\n      }\n      if (progress < 0.5) {\n        theta = progress * 2 * Math.PI;\n      } else {\n        theta = (1 - (progress - 0.5) * 2) * Math.PI;\n      }\n      if (theta === 0) {\n        theta = 1e-9;\n      }\n      radius = this.pageWidth / theta;\n      radian = 0;\n      dRadian = theta / this.nPolygons;\n      rotate = dRadian / 2 / Math.PI * 180;\n      dRotate = dRadian / Math.PI * 180;\n      if (originRight) {\n        rotate = -theta / Math.PI * 180 + dRotate / 2;\n      }\n      if (face === 'back') {\n        rotate = -rotate;\n        dRotate = -dRotate;\n      }\n      this.minX = 2e308;\n      this.maxX = -2e308;\n      results = [];\n      for (i = j = 0, ref = this.nPolygons; (0 <= ref ? j < ref : j > ref); i = 0 <= ref ? ++j : --j) {\n        bgPos = (i / (this.nPolygons - 1) * 100) + \"% 0px\";\n        m = pageMatrix.clone();\n        rad = originRight ? theta - radian : radian;\n        x = Math.sin(rad) * radius;\n        if (originRight) {\n          x = this.pageWidth - x;\n        }\n        z = (1 - Math.cos(rad)) * radius;\n        if (face === 'back') {\n          z = -z;\n        }\n        m.translate3d(x, 0, z);\n        m.rotateY(-rotate);\n        x0 = m.transformX(0);\n        x1 = m.transformX(polygonWidth);\n        this.maxX = Math.max(Math.max(x0, x1), this.maxX);\n        this.minX = Math.min(Math.min(x0, x1), this.minX);\n        lighting = this.computeLighting(pageRotation - rotate, dRotate);\n        radian += dRadian;\n        rotate += dRotate;\n        results.push([face + i, bgImg, lighting, bgPos, m.toString(), Math.abs(Math.round(z))]);\n      }\n      return results;\n    },\n    computeLighting: function(rot, dRotate) {\n      var DEG, POW, blackness, diffuse, gradients, lightingPoints, specular;\n      gradients = [];\n      lightingPoints = [-0.5, -0.25, 0, 0.25, 0.5];\n      if (this.ambient < 1) {\n        blackness = 1 - this.ambient;\n        diffuse = lightingPoints.map(function (d) {\n          return (1 - Math.cos((rot - dRotate * d) / 180 * Math.PI)) * blackness;\n        });\n        gradients.push((\"linear-gradient(to right,\\n  rgba(0, 0, 0, \" + (diffuse[0]) + \"),\\n  rgba(0, 0, 0, \" + (diffuse[1]) + \") 25%,\\n  rgba(0, 0, 0, \" + (diffuse[2]) + \") 50%,\\n  rgba(0, 0, 0, \" + (diffuse[3]) + \") 75%,\\n  rgba(0, 0, 0, \" + (diffuse[4]) + \"))\"));\n      }\n      if (this.gloss > 0 && !IE) {\n        DEG = 30;\n        POW = 200;\n        specular = lightingPoints.map(function (d) {\n          return Math.max(Math.pow( Math.cos((rot + DEG - dRotate * d) / 180 * Math.PI), POW ), Math.pow( Math.cos((rot - DEG - dRotate * d) / 180 * Math.PI), POW ));\n        });\n        gradients.push((\"linear-gradient(to right,\\n  rgba(255, 255, 255, \" + (specular[0] * this.gloss) + \"),\\n  rgba(255, 255, 255, \" + (specular[1] * this.gloss) + \") 25%,\\n  rgba(255, 255, 255, \" + (specular[2] * this.gloss) + \") 50%,\\n  rgba(255, 255, 255, \" + (specular[3] * this.gloss) + \") 75%,\\n  rgba(255, 255, 255, \" + (specular[4] * this.gloss) + \"))\"));\n      }\n      return gradients.join(',');\n    },\n    flipStart: function(direction, auto) {\n      var this$1 = this;\n\n      if (direction !== this.forwardDirection) {\n        if (this.displayedPages === 1) {\n          this.flip.frontImage = this.pageUrl(this.currentPage - 1);\n          this.flip.backImage = null;\n        } else {\n          this.flip.frontImage = this.pageUrl(this.firstPage);\n          this.flip.backImage = this.pageUrl(this.currentPage - this.displayedPages + 1);\n        }\n      } else {\n        if (this.displayedPages === 1) {\n          this.flip.frontImage = this.pageUrl(this.currentPage);\n          this.flip.backImage = null;\n        } else {\n          this.flip.frontImage = this.pageUrl(this.secondPage);\n          this.flip.backImage = this.pageUrl(this.currentPage + this.displayedPages);\n        }\n      }\n      this.flip.direction = direction;\n      this.flip.progress = 0;\n      return requestAnimationFrame(function () {\n        return requestAnimationFrame(function () {\n          if (this$1.flip.direction !== this$1.forwardDirection) {\n            if (this$1.displayedPages === 2) {\n              this$1.firstPage = this$1.currentPage - this$1.displayedPages;\n            }\n          } else {\n            if (this$1.displayedPages === 1) {\n              this$1.firstPage = this$1.currentPage + this$1.displayedPages;\n            } else {\n              this$1.secondPage = this$1.currentPage + 1 + this$1.displayedPages;\n            }\n          }\n          if (auto) {\n            return this$1.flipAuto(true);\n          }\n        });\n      });\n    },\n    flipAuto: function(ease) {\n      var this$1 = this;\n\n      var animate, duration, startRatio, t0;\n      t0 = Date.now();\n      duration = this.flipDuration * (1 - this.flip.progress);\n      startRatio = this.flip.progress;\n      this.flip.auto = true;\n      this.$emit((\"flip-\" + (this.flip.direction) + \"-start\"), this.page);\n      animate = function () {\n        return requestAnimationFrame(function () {\n          var ratio, t;\n          t = Date.now() - t0;\n          ratio = startRatio + t / duration;\n          if (ratio > 1) {\n            ratio = 1;\n          }\n          this$1.flip.progress = ease ? easeInOut(ratio) : ratio;\n          if (ratio < 1) {\n            return animate();\n          } else {\n            if (this$1.flip.direction !== this$1.forwardDirection) {\n              this$1.currentPage -= this$1.displayedPages;\n            } else {\n              this$1.currentPage += this$1.displayedPages;\n            }\n            this$1.$emit((\"flip-\" + (this$1.flip.direction) + \"-end\"), this$1.page);\n            if (this$1.displayedPages === 1 && this$1.flip.direction === this$1.forwardDirection) {\n              this$1.flip.direction = null;\n            } else {\n              this$1.onImageLoad(1, function () {\n                return this$1.flip.direction = null;\n              });\n            }\n            return this$1.flip.auto = false;\n          }\n        });\n      };\n      return animate();\n    },\n    flipRevert: function() {\n      var this$1 = this;\n\n      var animate, duration, startRatio, t0;\n      t0 = Date.now();\n      duration = this.flipDuration * this.flip.progress;\n      startRatio = this.flip.progress;\n      this.flip.auto = true;\n      animate = function () {\n        return requestAnimationFrame(function () {\n          var ratio, t;\n          t = Date.now() - t0;\n          ratio = startRatio - startRatio * t / duration;\n          if (ratio < 0) {\n            ratio = 0;\n          }\n          this$1.flip.progress = ratio;\n          if (ratio > 0) {\n            return animate();\n          } else {\n            this$1.firstPage = this$1.currentPage;\n            this$1.secondPage = this$1.currentPage + 1;\n            if (this$1.displayedPages === 1 && this$1.flip.direction !== this$1.forwardDirection) {\n              this$1.flip.direction = null;\n            } else {\n              this$1.onImageLoad(1, function () {\n                return this$1.flip.direction = null;\n              });\n            }\n            return this$1.flip.auto = false;\n          }\n        });\n      };\n      return animate();\n    },\n    onImageLoad: function(trigger, cb) {\n      this.nImageLoad = 0;\n      this.nImageLoadTrigger = trigger;\n      return this.imageLoadCallback = cb;\n    },\n    didLoadImage: function(ev) {\n      if (this.imageWidth === null) {\n        this.imageWidth = (ev.target || ev.path[0]).naturalWidth;\n        this.imageHeight = (ev.target || ev.path[0]).naturalHeight;\n      }\n      if (!this.imageLoadCallback) {\n        return;\n      }\n      if (++this.nImageLoad >= this.nImageLoadTrigger) {\n        this.imageLoadCallback();\n        return this.imageLoadCallback = null;\n      }\n    },\n    zoomIn: function() {\n      if (!this.canZoomIn) {\n        return;\n      }\n      this.zoomIndex += 1;\n      return this.zoomTo(this.zooms_[this.zoomIndex]);\n    },\n    zoomOut: function() {\n      if (!this.canZoomOut) {\n        return;\n      }\n      this.zoomIndex -= 1;\n      return this.zoomTo(this.zooms_[this.zoomIndex]);\n    },\n    zoomTo: function(zoom, fixedX, fixedY) {\n      var this$1 = this;\n\n      var animate, containerFixedX, containerFixedY, end, endX, endY, start, startX, startY, t0, viewport;\n      start = this.zoom;\n      end = zoom;\n      viewport = this.$refs.viewport;\n      startX = viewport.scrollLeft;\n      startY = viewport.scrollTop;\n      fixedX || (fixedX = viewport.clientWidth / 2);\n      fixedY || (fixedY = viewport.clientHeight / 2);\n      containerFixedX = fixedX + startX;\n      containerFixedY = fixedY + startY;\n      endX = containerFixedX / start * end - fixedX;\n      endY = containerFixedY / start * end - fixedY;\n      t0 = Date.now();\n      this.zooming = true;\n      this.$emit('zoom-start', zoom);\n      animate = function () {\n        return requestAnimationFrame(function () {\n          var ratio, t;\n          t = Date.now() - t0;\n          ratio = t / this$1.zoomDuration;\n          if (ratio > 1 || IE) {\n            ratio = 1;\n          }\n          ratio = easeInOut(ratio);\n          this$1.zoom = start + (end - start) * ratio;\n          this$1.scrollLeft = startX + (endX - startX) * ratio;\n          this$1.scrollTop = startY + (endY - startY) * ratio;\n          if (t < this$1.zoomDuration) {\n            return animate();\n          } else {\n            this$1.$emit('zoom-end', zoom);\n            this$1.zooming = false;\n            this$1.zoom = zoom;\n            this$1.scrollLeft = endX;\n            return this$1.scrollTop = endY;\n          }\n        });\n      };\n      animate();\n      if (end > 1) {\n        return this.preloadImages(true);\n      }\n    },\n    zoomAt: function(touch) {\n      var rect, x, y;\n      rect = this.$refs.viewport.getBoundingClientRect();\n      x = touch.pageX - rect.left;\n      y = touch.pageY - rect.top;\n      this.zoomIndex = (this.zoomIndex + 1) % this.zooms_.length;\n      return this.zoomTo(this.zooms_[this.zoomIndex], x, y);\n    },\n    swipeStart: function(touch) {\n      this.touchStartX = touch.pageX;\n      this.touchStartY = touch.pageY;\n      this.maxMove = 0;\n      if (this.zoom <= 1) {\n        return this.activeCursor = 'grab';\n      } else {\n        this.startScrollLeft = this.$refs.viewport.scrollLeft;\n        this.startScrollTop = this.$refs.viewport.scrollTop;\n        return this.activeCursor = 'all-scroll';\n      }\n    },\n    swipeMove: function(touch) {\n      var x, y;\n      if (this.touchStartX == null) {\n        return;\n      }\n      x = touch.pageX - this.touchStartX;\n      y = touch.pageY - this.touchStartY;\n      this.maxMove = Math.max(this.maxMove, Math.abs(x));\n      this.maxMove = Math.max(this.maxMove, Math.abs(y));\n      if (this.zoom > 1) {\n        if (this.dragToScroll) {\n          this.dragScroll(x, y);\n        }\n        return;\n      }\n      if (Math.abs(y) > Math.abs(x)) {\n        return;\n      }\n      this.activeCursor = 'grabbing';\n      if (x > 0) {\n        if (this.flip.direction === null && this.canFlipLeft && x >= this.swipeMin) {\n          this.flipStart('left', false);\n        }\n        if (this.flip.direction === 'left') {\n          this.flip.progress = x / this.pageWidth;\n          if (this.flip.progress > 1) {\n            this.flip.progress = 1;\n          }\n        }\n      } else {\n        if (this.flip.direction === null && this.canFlipRight && x <= -this.swipeMin) {\n          this.flipStart('right', false);\n        }\n        if (this.flip.direction === 'right') {\n          this.flip.progress = -x / this.pageWidth;\n          if (this.flip.progress > 1) {\n            this.flip.progress = 1;\n          }\n        }\n      }\n      return true;\n    },\n    swipeEnd: function(touch) {\n      if (this.touchStartX == null) {\n        return;\n      }\n      if (this.maxMove < this.swipeMin) {\n        this.zoomAt(touch);\n      }\n      if (this.flip.direction !== null && !this.flip.auto) {\n        if (this.flip.progress > 1 / 4) {\n          this.flipAuto(false);\n        } else {\n          this.flipRevert();\n        }\n      }\n      this.touchStartX = null;\n      return this.activeCursor = null;\n    },\n    onTouchStart: function(ev) {\n      this.hasTouchEvents = true;\n      return this.swipeStart(ev.changedTouches[0]);\n    },\n    onTouchMove: function(ev) {\n      if (this.swipeMove(ev.changedTouches[0])) {\n        if (ev.cancelable) {\n          return ev.preventDefault();\n        }\n      }\n    },\n    onTouchEnd: function(ev) {\n      return this.swipeEnd(ev.changedTouches[0]);\n    },\n    onPointerDown: function(ev) {\n      this.hasPointerEvents = true;\n      if (this.hasTouchEvents) {\n        return;\n      }\n      if (ev.which && ev.which !== 1) { // Ignore right-click\n        return;\n      }\n      this.swipeStart(ev);\n      try {\n        return ev.target.setPointerCapture(ev.pointerId);\n      } catch (error) {\n\n      }\n    },\n    onPointerMove: function(ev) {\n      if (!this.hasTouchEvents) {\n        return this.swipeMove(ev);\n      }\n    },\n    onPointerUp: function(ev) {\n      if (this.hasTouchEvents) {\n        return;\n      }\n      this.swipeEnd(ev);\n      try {\n        return ev.target.releasePointerCapture(ev.pointerId);\n      } catch (error) {\n\n      }\n    },\n    onMouseDown: function(ev) {\n      if (this.hasTouchEvents || this.hasPointerEvents) {\n        return;\n      }\n      if (ev.which && ev.which !== 1) { // Ignore right-click\n        return;\n      }\n      return this.swipeStart(ev);\n    },\n    onMouseMove: function(ev) {\n      if (!(this.hasTouchEvents || this.hasPointerEvents)) {\n        return this.swipeMove(ev);\n      }\n    },\n    onMouseUp: function(ev) {\n      if (!(this.hasTouchEvents || this.hasPointerEvents)) {\n        return this.swipeEnd(ev);\n      }\n    },\n    dragScroll: function(x, y) {\n      this.scrollLeft = this.startScrollLeft - x;\n      return this.scrollTop = this.startScrollTop - y;\n    },\n    onWheel: function(ev) {\n      if (this.zoom > 1 && this.dragToScroll) {\n        this.scrollLeft = this.$refs.viewport.scrollLeft + ev.deltaX;\n        this.scrollTop = this.$refs.viewport.scrollTop + ev.deltaY;\n        if (ev.cancelable) {\n          return ev.preventDefault();\n        }\n      }\n    },\n    preloadImages: function(hiRes) {\n      if ( hiRes === void 0 ) hiRes = false;\n\n      var i, img, j, k, ref, ref1, ref2, ref3, url;\n      if (Object.keys(this.preloadedImages).length >= 10) {\n        this.preloadedImages = {};\n      }\n      for (i = j = ref = this.currentPage - 3, ref1 = this.currentPage + 3; (ref <= ref1 ? j <= ref1 : j >= ref1); i = ref <= ref1 ? ++j : --j) {\n        url = this.pageUrl(i);\n        if (url) {\n          if (!this.preloadedImages[url]) {\n            img = new Image();\n            img.src = url;\n            this.preloadedImages[url] = img;\n          }\n        }\n      }\n      if (hiRes) {\n        for (i = k = ref2 = this.currentPage, ref3 = this.currentPage + this.displayedPages; (ref2 <= ref3 ? k < ref3 : k > ref3); i = ref2 <= ref3 ? ++k : --k) {\n          url = this.pagesHiRes[i];\n          if (url) {\n            if (!this.preloadedImages[url]) {\n              img = new Image();\n              img.src = url;\n              this.preloadedImages[url] = img;\n            }\n          }\n        }\n      }\n    },\n    goToPage: function(p) {\n      if (p === null || p === this.page) {\n        return;\n      }\n      if (this.pages[0] === null) {\n        if (this.displayedPages === 2 && p === 1) {\n          this.currentPage = 0;\n        } else {\n          this.currentPage = p;\n        }\n      } else {\n        this.currentPage = p - 1;\n      }\n      this.minX = 2e308;\n      this.maxX = -2e308;\n      return this.currentCenterOffset = this.centerOffset;\n    }\n  },\n  watch: {\n    currentPage: function() {\n      this.firstPage = this.currentPage;\n      this.secondPage = this.currentPage + 1;\n      return this.preloadImages();\n    },\n    centerOffset: function() {\n      var this$1 = this;\n\n      var animate;\n      if (this.animatingCenter) {\n        return;\n      }\n      animate = function () {\n        return requestAnimationFrame(function () {\n          var diff, rate;\n          rate = 0.1;\n          diff = this$1.centerOffset - this$1.currentCenterOffset;\n          if (Math.abs(diff) < 0.5) {\n            this$1.currentCenterOffset = this$1.centerOffset;\n            return this$1.animatingCenter = false;\n          } else {\n            this$1.currentCenterOffset += diff * rate;\n            return animate();\n          }\n        });\n      };\n      this.animatingCenter = true;\n      return animate();\n    },\n    scrollLeftLimited: function(val) {\n      var this$1 = this;\n\n      if (IE) {\n        return requestAnimationFrame(function () {\n          return this$1.$refs.viewport.scrollLeft = val;\n        });\n      } else {\n        return this.$refs.viewport.scrollLeft = val;\n      }\n    },\n    scrollTopLimited: function(val) {\n      var this$1 = this;\n\n      if (IE) {\n        return requestAnimationFrame(function () {\n          return this$1.$refs.viewport.scrollTop = val;\n        });\n      } else {\n        return this.$refs.viewport.scrollTop = val;\n      }\n    },\n    pages: function(after, before) {\n      this.fixFirstPage();\n      if (!(before != null ? before.length : void 0) && (after != null ? after.length : void 0)) {\n        if (this.startPage > 1 && after[0] === null) {\n          return this.currentPage++;\n        }\n      }\n    },\n    startPage: function(p) {\n      return this.goToPage(p);\n    }\n  }\n};\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    var options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    var hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            var originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            var existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\nvar isOldIE = typeof navigator !== 'undefined' &&\r\n    /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\r\nfunction createInjector(context) {\r\n    return function (id, style) { return addStyle(id, style); };\r\n}\r\nvar HEAD;\r\nvar styles = {};\r\nfunction addStyle(id, css) {\r\n    var group = isOldIE ? css.media || 'default' : id;\r\n    var style = styles[group] || (styles[group] = { ids: new Set(), styles: [] });\r\n    if (!style.ids.has(id)) {\r\n        style.ids.add(id);\r\n        var code = css.source;\r\n        if (css.map) {\r\n            // https://developer.chrome.com/devtools/docs/javascript-debugging\r\n            // this makes source maps inside style tags work properly in Chrome\r\n            code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\r\n            // http://stackoverflow.com/a/26603875\r\n            code +=\r\n                '\\n/*# sourceMappingURL=data:application/json;base64,' +\r\n                    btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\r\n                    ' */';\r\n        }\r\n        if (!style.element) {\r\n            style.element = document.createElement('style');\r\n            style.element.type = 'text/css';\r\n            if (css.media)\r\n                { style.element.setAttribute('media', css.media); }\r\n            if (HEAD === undefined) {\r\n                HEAD = document.head || document.getElementsByTagName('head')[0];\r\n            }\r\n            HEAD.appendChild(style.element);\r\n        }\r\n        if ('styleSheet' in style.element) {\r\n            style.styles.push(code);\r\n            style.element.styleSheet.cssText = style.styles\r\n                .filter(Boolean)\r\n                .join('\\n');\r\n        }\r\n        else {\r\n            var index = style.ids.size - 1;\r\n            var textNode = document.createTextNode(code);\r\n            var nodes = style.element.childNodes;\r\n            if (nodes[index])\r\n                { style.element.removeChild(nodes[index]); }\r\n            if (nodes.length)\r\n                { style.element.insertBefore(textNode, nodes[index]); }\r\n            else\r\n                { style.element.appendChild(textNode); }\r\n        }\r\n    }\r\n}\n\n/* script */\nvar __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._t(\"default\",null,null,{\n    canFlipLeft: _vm.canFlipLeft,\n    canFlipRight: _vm.canFlipRight,\n    canZoomIn: _vm.canZoomIn,\n    canZoomOut: _vm.canZoomOut,\n    page: _vm.page,\n    numPages: _vm.numPages,\n    flipLeft: _vm.flipLeft,\n    flipRight: _vm.flipRight,\n    zoomIn: _vm.zoomIn,\n    zoomOut: _vm.zoomOut\n  }),_vm._v(\" \"),_c('div',{ref:\"viewport\",staticClass:\"viewport\",class:{\n      zoom: _vm.zooming || _vm.zoom > 1,\n      'drag-to-scroll': _vm.dragToScroll\n    },style:({ cursor: _vm.cursor == 'grabbing' ? 'grabbing' : 'auto' }),on:{\"touchmove\":_vm.onTouchMove,\"pointermove\":_vm.onPointerMove,\"mousemove\":_vm.onMouseMove,\"touchend\":_vm.onTouchEnd,\"touchcancel\":_vm.onTouchEnd,\"pointerup\":_vm.onPointerUp,\"pointercancel\":_vm.onPointerUp,\"mouseup\":_vm.onMouseUp,\"wheel\":_vm.onWheel}},[_c('div',{staticClass:\"container\",style:({ transform: (\"scale(\" + _vm.zoom + \")\"), })},[_c('div',{staticClass:\"click-to-flip left\",style:({ cursor: _vm.canFlipLeft ? 'pointer' : 'auto'}),on:{\"click\":_vm.flipLeft}}),_vm._v(\" \"),_c('div',{staticClass:\"click-to-flip right\",style:({ cursor: _vm.canFlipRight ? 'pointer' : 'auto'}),on:{\"click\":_vm.flipRight}}),_vm._v(\" \"),_c('div',{style:({ transform: (\"translateX(\" + _vm.centerOffsetSmoothed + \"px)\") })},[(_vm.showLeftPage)?_c('img',{staticClass:\"page fixed\",style:({\n            width: _vm.pageWidth + 'px',\n            height: _vm.pageHeight + 'px',\n            left: _vm.xMargin + 'px',\n            top: _vm.yMargin + 'px'\n          }),attrs:{\"src\":_vm.pageUrl(_vm.leftPage, true)},on:{\"load\":function($event){return _vm.didLoadImage($event)}}}):_vm._e(),_vm._v(\" \"),(_vm.showRightPage)?_c('img',{staticClass:\"page fixed\",style:({\n            width: _vm.pageWidth + 'px',\n            height: _vm.pageHeight + 'px',\n            left: _vm.viewWidth / 2 + 'px',\n            top: _vm.yMargin + 'px'\n          }),attrs:{\"src\":_vm.pageUrl(_vm.rightPage, true)},on:{\"load\":function($event){return _vm.didLoadImage($event)}}}):_vm._e(),_vm._v(\" \"),_c('div',{style:({ opacity: _vm.flip.opacity })},_vm._l((_vm.polygonArray),function(ref){\n            var key = ref[0];\n            var bgImage = ref[1];\n            var lighting = ref[2];\n            var bgPos = ref[3];\n            var transform = ref[4];\n            var z = ref[5];\nreturn _c('div',{key:key,staticClass:\"polygon\",class:{ blank: !bgImage },style:({\n              backgroundImage: bgImage,\n              backgroundSize: _vm.polygonBgSize,\n              backgroundPosition: bgPos,\n              width: _vm.polygonWidth,\n              height: _vm.polygonHeight,\n              transform: transform,\n              zIndex: z,\n            })},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(lighting.length),expression:\"lighting.length\"}],staticClass:\"lighting\",style:({ backgroundImage: lighting })})])}),0),_vm._v(\" \"),_c('div',{staticClass:\"bounding-box\",style:({\n            left: _vm.boundingLeft + 'px',\n            top: _vm.yMargin + 'px',\n            width: _vm.boundingRight - _vm.boundingLeft + 'px',\n            height: _vm.pageHeight + 'px',\n            cursor: _vm.cursor\n          }),on:{\"touchstart\":_vm.onTouchStart,\"pointerdown\":_vm.onPointerDown,\"mousedown\":_vm.onMouseDown}})])])])],2)};\nvar __vue_staticRenderFns__ = [];\n\n  /* style */\n  var __vue_inject_styles__ = function (inject) {\n    if (!inject) { return }\n    inject(\"data-v-71ad9dad_0\", { source: \".viewport[data-v-71ad9dad]{-webkit-overflow-scrolling:touch;width:100%;height:100%}.viewport.zoom[data-v-71ad9dad]{overflow:scroll}.viewport.zoom.drag-to-scroll[data-v-71ad9dad]{overflow:hidden}.container[data-v-71ad9dad]{position:relative;width:100%;height:100%;transform-origin:top left;-webkit-user-select:none;-ms-user-select:none;user-select:none}.click-to-flip[data-v-71ad9dad]{position:absolute;width:50%;height:100%;top:0;-webkit-user-select:none;-ms-user-select:none;user-select:none}.click-to-flip.left[data-v-71ad9dad]{left:0}.click-to-flip.right[data-v-71ad9dad]{right:0}.bounding-box[data-v-71ad9dad]{position:absolute;-webkit-user-select:none;-ms-user-select:none;user-select:none}.page[data-v-71ad9dad]{position:absolute;-webkit-backface-visibility:hidden;backface-visibility:hidden}.polygon[data-v-71ad9dad]{position:absolute;top:0;left:0;background-repeat:no-repeat;-webkit-backface-visibility:hidden;backface-visibility:hidden;transform-origin:center left}.polygon.blank[data-v-71ad9dad]{background-color:#ddd}.polygon .lighting[data-v-71ad9dad]{width:100%;height:100%}\", map: undefined, media: undefined });\n\n  };\n  /* scoped */\n  var __vue_scope_id__ = \"data-v-71ad9dad\";\n  /* module identifier */\n  var __vue_module_identifier__ = undefined;\n  /* functional template */\n  var __vue_is_functional_template__ = false;\n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  var __vue_component__ = normalizeComponent(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    createInjector,\n    undefined,\n    undefined\n  );\n\nexport default __vue_component__;\n"],"sourceRoot":""}