(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["back_menu"],{"057f":function(t,e,s){var a=s("fc6a"),i=s("241c").f,n={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(t){try{return i(t)}catch(e){return r.slice()}};t.exports.f=function(t){return r&&"[object Window]"==n.call(t)?c(t):i(a(t))}},2532:function(t,e,s){"use strict";var a=s("23e7"),i=s("5a34"),n=s("1d80"),r=s("ab13");a({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(n(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},2620:function(t,e,s){"use strict";var a=s("ad99"),i=s.n(a);i.a},"2a21":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"back_menu"}},[s("h1",{staticClass:"text-center mt-4 mb-4"},[t._v("新增餐點")]),s("form",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-4 col-12 mt-5 d-flex justify-content-center flex-wrap"},[s("h3",{staticClass:"title mb-4 col-12"},[t._v("餐點名稱")]),s("vs-input",{staticClass:"inputx col-12",attrs:{"label-placeholder":"餐點名稱"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1),s("div",{staticClass:"col-lg-4 col-12 mt-5 d-flex justify-content-center flex-wrap"},[s("h3",{staticClass:"title mb-4 col-12"},[t._v("餐點定價")]),s("vs-input",{staticClass:"inputx col-12",attrs:{type:"number","label-placeholder":"餐點定價"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),s("div",{staticClass:"col-lg-4 col-12 mt-5 d-flex justify-content-center flex-wrap"},[s("h3",{staticClass:"title mb-4 col-12"},[t._v("餐點類型")]),s("b-form-select",{staticClass:"col-12 mt-3",attrs:{options:t.alltype},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6 col-12 mt-5 d-flex justify-content-center flex-wrap"},[s("h3",{staticClass:"title mb-4 col-12"},[t._v("餐點圖片")]),s("b-form-file",{attrs:{state:t.state,placeholder:"選擇檔案或拖曳至此","drop-placeholder":"將檔案拖曳至此","requiredbrowse-text":"瀏覽",accept:"image/*"},on:{input:t.validateFile},model:{value:t.src,callback:function(e){t.src=e},expression:"src"}}),s("p",[t._v("圖片請在1MB以下")])],1),s("div",{staticClass:"col-lg-6 col-12 mt-5 d-flex justify-content-center flex-wrap"},[s("h3",{staticClass:"title mb-4 col-12"},[t._v("餐點描述")]),s("vs-textarea",{staticClass:"col-12",attrs:{label:"餐點描述"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)]),s("div",{staticClass:"row mt-5 justify-content-center align-items-center flex-nowrap"},[s("div",{staticClass:"col-lg-2 text-right"},["特餐"===t.type?s("vs-button",{attrs:{color:"success",type:"filled"},on:{click:t.addmeal}},[t._v("更新特餐")]):s("vs-button",{attrs:{color:"primary",type:"filled"},on:{click:t.addmeal}},[t._v("新增")])],1),s("div",{staticClass:"col-lg-2 text-left"},[s("vs-button",{attrs:{color:"danger",type:"filled"}},[t._v("重寫")])],1)])]),s("hr"),s("div",{staticClass:"container"},[s("h1",{staticClass:"text-center mt-4 mb-4"},[t._v("特餐管理")]),s("vs-table",{attrs:{data:t.allmenu},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,a){return s("vs-tr",{key:a},["特餐"===e.type?s("vs-td",{attrs:{data:e.title}},[s("span",{staticClass:"text"},[t._v(t._s(e.title))]),s("template",{slot:"edit"},[s("vs-input",{staticClass:"inputx",attrs:{placeholder:"名稱"},model:{value:e.title,callback:function(s){t.$set(e,"title",s)},expression:"tr.title"}})],1)],2):t._e(),"特餐"===e.type?s("vs-td",{attrs:{data:e.value}},[s("span",{staticClass:"text"},[t._v(t._s(e.value))]),s("template",{slot:"edit"},[s("vs-input",{staticClass:"inputx",attrs:{type:"number",placeholder:"名稱"},model:{value:e.value,callback:function(s){t.$set(e,"value",s)},expression:"tr.value"}})],1)],2):t._e(),"特餐"===e.type?s("vs-td",{attrs:{data:e.type}},[s("span",{staticClass:"text"},[t._v(t._s(e.type))]),s("template",{slot:"edit"},[s("b-form-select",{staticClass:"col-12 mt-3",attrs:{options:t.selecttype},model:{value:e.type,callback:function(s){t.$set(e,"type",s)},expression:"tr.type"}})],1)],2):t._e(),"特餐"===e.type?s("vs-td",{attrs:{data:e.src}},[s("div",[s("div",{staticClass:"image"},[s("img",{attrs:{src:e.src}})])])]):t._e(),"特餐"===e.type?s("vs-td",{attrs:{data:e.description}},[s("span",{staticClass:"text"},[t._v(t._s(e.description))]),s("template",{slot:"edit"},[s("vs-textarea",{staticClass:"col-12",attrs:{label:"餐點描述"},model:{value:e.description,callback:function(s){t.$set(e,"description",s)},expression:"tr.description"}})],1)],2):t._e(),"特餐"===e.type?s("vs-td",{attrs:{data:e}},[s("vs-button",{staticClass:"d-block",attrs:{color:"success",type:"filled"},on:{click:function(s){return t.openConfirm(e)}}},[s("span",{staticClass:"btntext"},[t._v("儲存")])]),s("vs-button",{staticClass:"d-block",attrs:{color:"danger",type:"filled"},on:{click:function(s){return t.openDeleteConfirm(e)}}},[s("span",{staticClass:"btntext"},[t._v("刪除")])])],1):t._e()],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",{attrs:{"sort-key":"title"}},[s("span",{staticClass:"item "},[t._v("名稱")])]),s("vs-th",{attrs:{"sort-key":"value"}},[s("span",{staticClass:"item "},[t._v("價格")])]),s("vs-th",{attrs:{"sort-key":"type"}},[s("span",{staticClass:"item"},[t._v("類型")])]),s("vs-th",[s("span",{staticClass:"item ml-lg-5 ml-4"},[t._v("圖片")])]),s("vs-th",[s("span",{staticClass:"item "},[t._v("描述")])]),s("vs-th",[s("span",{staticClass:"item "},[t._v("動作")])])],1)],2)],1),s("hr"),s("div",{staticClass:"container"},[s("h1",{staticClass:"text-center mt-4 mb-4"},[t._v("菜單管理")]),s("vs-table",{attrs:{data:t.allmenu},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.data;return t._l(a,(function(e,a){return s("vs-tr",{key:a},[s("vs-td",{attrs:{data:e.title}},[s("span",{staticClass:"text"},[t._v(t._s(e.title))]),s("template",{slot:"edit"},[s("vs-input",{staticClass:"inputx",attrs:{placeholder:"名稱"},model:{value:e.title,callback:function(s){t.$set(e,"title",s)},expression:"tr.title"}})],1)],2),s("vs-td",{attrs:{data:e.value}},[s("span",{staticClass:"text"},[t._v(t._s(e.value))]),s("template",{slot:"edit"},[s("vs-input",{staticClass:"inputx",attrs:{type:"number",placeholder:"名稱"},model:{value:e.value,callback:function(s){t.$set(e,"value",s)},expression:"tr.value"}})],1)],2),s("vs-td",{attrs:{data:e.type}},[s("span",{staticClass:"text"},[t._v(t._s(e.type))]),s("template",{slot:"edit"},[s("b-form-select",{staticClass:"col-12 mt-3",attrs:{options:t.selecttype},model:{value:e.type,callback:function(s){t.$set(e,"type",s)},expression:"tr.type"}})],1)],2),s("vs-td",{attrs:{data:e.src}},[s("div",[s("div",{staticClass:"image"},[s("img",{attrs:{src:e.src}})])])]),s("vs-td",{attrs:{data:e.description}},[s("span",{staticClass:"text"},[t._v(t._s(e.description))]),s("template",{slot:"edit"},[s("vs-textarea",{staticClass:"col-12",attrs:{label:"餐點描述"},model:{value:e.description,callback:function(s){t.$set(e,"description",s)},expression:"tr.description"}})],1)],2),s("vs-td",{attrs:{data:e}},[s("vs-button",{staticClass:"d-block",attrs:{color:"success",type:"filled"},on:{click:function(s){return t.openConfirm(e)}}},[s("span",{staticClass:"btntext"},[t._v("儲存")])]),s("vs-button",{staticClass:"d-block",attrs:{color:"danger",type:"filled"},on:{click:function(s){return t.openDeleteConfirm(e)}}},[s("span",{staticClass:"btntext"},[t._v("刪除")])])],1)],1)}))}}])},[s("template",{slot:"thead"},[s("vs-th",{attrs:{"sort-key":"title"}},[s("span",{staticClass:"item "},[t._v("名稱")])]),s("vs-th",{attrs:{"sort-key":"value"}},[s("span",{staticClass:"item "},[t._v("價格")])]),s("vs-th",{attrs:{"sort-key":"type"}},[s("span",{staticClass:"item"},[t._v("類型")])]),s("vs-th",[s("span",{staticClass:"item ml-lg-5 ml-4"},[t._v("圖片")])]),s("vs-th",[s("span",{staticClass:"item "},[t._v("描述")])]),s("vs-th",[s("span",{staticClass:"item "},[t._v("動作")])])],1)],2)],1)])},i=[],n=(s("a4d3"),s("e01a"),s("caad"),s("d81d"),s("2532"),{data:function(){return{title:"",value:"",type:"類型",alltype:["前菜","沙拉","主餐","披薩","湯品","甜點","鬆餅","飲料","特餐"],selecttype:["前菜","沙拉","主餐","披薩","湯品","甜點","鬆餅","飲料"],select:1,description:"",src:null,state:null,allmenu:[],changemeal:""}},methods:{validateFile:function(){null!=this.src&&(this.src.size>=1048576||!this.src.type.includes("image")?(this.state=!1,this.src=null):this.state=!0)},addmeal:function(){var t=this;if(this.title.length<1)this.$swal("錯誤","未輸入餐點名稱","error");else if(this.value.length<1)this.$swal("錯誤","未輸入價格","error");else if("類型"===this.type)this.$swal("錯誤","未選擇類型","error");else if(this.description.length<1)this.$swal("錯誤","無餐點描述","error");else{var e=new FormData;e.append("title",this.title),e.append("value",this.value),e.append("type",this.type),e.append("src",this.src),e.append("description",this.description),console.log(this.src),"特餐"===this.type?this.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/specialmeal",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.$swal("完成","已成功更新特餐","success")})).catch((function(e){t.$swal("錯誤","".concat(e.response.data.message),"error")})):this.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/addmeal",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.$swal("完成","已成功新增餐點","success")})).catch((function(e){t.$swal("錯誤","".concat(e.response.data.message),"error")})),this.title="",this.value="",this.type="",this.src=null,this.description=""}},openConfirm:function(t){this.changemeal=t,this.$vs.dialog({type:"confirm",color:"success",title:"確認更變",text:"確認更變項目嗎",accept:this.acceptAlert})},acceptAlert:function(t){var e=this;this.$vs.notify({color:"primary",title:"已順利更變",text:"已順利所選項目"}),this.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/changemeal",{title:this.changemeal.title,value:this.changemeal.value,type:this.changemeal.type,id:this.changemeal.id,description:this.changemeal.description}).then((function(t){e.$swal("完成","已成功更變菜單","success")})).catch((function(t){e.$swal("錯誤","".concat(t.response.data.message),"error")}))},openDeleteConfirm:function(t){this.changemeal=t,this.$vs.dialog({type:"confirm",color:"danger",title:"確認刪除",text:"確認刪除項目嗎",accept:this.acceptDeleteAlert})},acceptDeleteAlert:function(t){var e=this;this.$vs.notify({color:"primary",title:"已順利刪除",text:"已順利所選項目"}),this.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/deletemeal",{id:this.changemeal.id}).then((function(t){e.$swal("完成","已成功刪除菜單","success")})).catch((function(t){e.$swal("錯誤","".concat(t.response.data.message),"error")}))}},mounted:function(){var t=this;this.axios.post(Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/allmenu").then((function(e){t.allmenu=e.data.result.map((function(t){return{title:t.title,value:t.value,type:t.type,description:t.description,src:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_APIURL+"/images/"+t.src,id:t.id}}))})).catch((function(t){console.log(t.response.data.message)}))}}),r=n,c=(s("2620"),s("2877")),l=Object(c["a"])(r,a,i,!1,null,null,null);e["default"]=l.exports},"5a34":function(t,e,s){var a=s("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"746f":function(t,e,s){var a=s("428f"),i=s("5135"),n=s("e538"),r=s("9bf2").f;t.exports=function(t){var e=a.Symbol||(a.Symbol={});i(e,t)||r(e,t,{value:n.f(t)})}},a4d3:function(t,e,s){"use strict";var a=s("23e7"),i=s("da84"),n=s("d066"),r=s("c430"),c=s("83ab"),l=s("4930"),o=s("fdbf"),u=s("d039"),p=s("5135"),d=s("e8b5"),f=s("861d"),v=s("825a"),h=s("7b0b"),m=s("fc6a"),y=s("c04e"),b=s("5c6c"),g=s("7c73"),_=s("df75"),C=s("241c"),x=s("057f"),w=s("7418"),S=s("06cf"),k=s("9bf2"),O=s("d1e7"),E=s("9112"),P=s("6eeb"),A=s("5692"),$=s("f772"),j=s("d012"),U=s("90e3"),N=s("b622"),R=s("e538"),D=s("746f"),L=s("d44e"),V=s("69f3"),I=s("b727").forEach,B=$("hidden"),T="Symbol",F="prototype",J=N("toPrimitive"),q=V.set,z=V.getterFor(T),M=Object[F],Q=i.Symbol,W=n("JSON","stringify"),G=S.f,H=k.f,K=x.f,X=O.f,Y=A("symbols"),Z=A("op-symbols"),tt=A("string-to-symbol-registry"),et=A("symbol-to-string-registry"),st=A("wks"),at=i.QObject,it=!at||!at[F]||!at[F].findChild,nt=c&&u((function(){return 7!=g(H({},"a",{get:function(){return H(this,"a",{value:7}).a}})).a}))?function(t,e,s){var a=G(M,e);a&&delete M[e],H(t,e,s),a&&t!==M&&H(M,e,a)}:H,rt=function(t,e){var s=Y[t]=g(Q[F]);return q(s,{type:T,tag:t,description:e}),c||(s.description=e),s},ct=o?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Q},lt=function(t,e,s){t===M&&lt(Z,e,s),v(t);var a=y(e,!0);return v(s),p(Y,a)?(s.enumerable?(p(t,B)&&t[B][a]&&(t[B][a]=!1),s=g(s,{enumerable:b(0,!1)})):(p(t,B)||H(t,B,b(1,{})),t[B][a]=!0),nt(t,a,s)):H(t,a,s)},ot=function(t,e){v(t);var s=m(e),a=_(s).concat(vt(s));return I(a,(function(e){c&&!pt.call(s,e)||lt(t,e,s[e])})),t},ut=function(t,e){return void 0===e?g(t):ot(g(t),e)},pt=function(t){var e=y(t,!0),s=X.call(this,e);return!(this===M&&p(Y,e)&&!p(Z,e))&&(!(s||!p(this,e)||!p(Y,e)||p(this,B)&&this[B][e])||s)},dt=function(t,e){var s=m(t),a=y(e,!0);if(s!==M||!p(Y,a)||p(Z,a)){var i=G(s,a);return!i||!p(Y,a)||p(s,B)&&s[B][a]||(i.enumerable=!0),i}},ft=function(t){var e=K(m(t)),s=[];return I(e,(function(t){p(Y,t)||p(j,t)||s.push(t)})),s},vt=function(t){var e=t===M,s=K(e?Z:m(t)),a=[];return I(s,(function(t){!p(Y,t)||e&&!p(M,t)||a.push(Y[t])})),a};if(l||(Q=function(){if(this instanceof Q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=U(t),s=function(t){this===M&&s.call(Z,t),p(this,B)&&p(this[B],e)&&(this[B][e]=!1),nt(this,e,b(1,t))};return c&&it&&nt(M,e,{configurable:!0,set:s}),rt(e,t)},P(Q[F],"toString",(function(){return z(this).tag})),P(Q,"withoutSetter",(function(t){return rt(U(t),t)})),O.f=pt,k.f=lt,S.f=dt,C.f=x.f=ft,w.f=vt,R.f=function(t){return rt(N(t),t)},c&&(H(Q[F],"description",{configurable:!0,get:function(){return z(this).description}}),r||P(M,"propertyIsEnumerable",pt,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:Q}),I(_(st),(function(t){D(t)})),a({target:T,stat:!0,forced:!l},{for:function(t){var e=String(t);if(p(tt,e))return tt[e];var s=Q(e);return tt[e]=s,et[s]=e,s},keyFor:function(t){if(!ct(t))throw TypeError(t+" is not a symbol");if(p(et,t))return et[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),a({target:"Object",stat:!0,forced:!l,sham:!c},{create:ut,defineProperty:lt,defineProperties:ot,getOwnPropertyDescriptor:dt}),a({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ft,getOwnPropertySymbols:vt}),a({target:"Object",stat:!0,forced:u((function(){w.f(1)}))},{getOwnPropertySymbols:function(t){return w.f(h(t))}}),W){var ht=!l||u((function(){var t=Q();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}));a({target:"JSON",stat:!0,forced:ht},{stringify:function(t,e,s){var a,i=[t],n=1;while(arguments.length>n)i.push(arguments[n++]);if(a=e,(f(e)||void 0!==t)&&!ct(t))return d(e)||(e=function(t,e){if("function"==typeof a&&(e=a.call(this,t,e)),!ct(e))return e}),i[1]=e,W.apply(null,i)}})}Q[F][J]||E(Q[F],J,Q[F].valueOf),L(Q,T),j[B]=!0},ab13:function(t,e,s){var a=s("b622"),i=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[i]=!1,"/./"[t](e)}catch(a){}}return!1}},ad99:function(t,e,s){},ae40:function(t,e,s){var a=s("83ab"),i=s("d039"),n=s("5135"),r=Object.defineProperty,c={},l=function(t){throw t};t.exports=function(t,e){if(n(c,t))return c[t];e||(e={});var s=[][t],o=!!n(e,"ACCESSORS")&&e.ACCESSORS,u=n(e,0)?e[0]:l,p=n(e,1)?e[1]:void 0;return c[t]=!!s&&!i((function(){if(o&&!a)return!0;var t={length:-1};o?r(t,1,{enumerable:!0,get:l}):t[1]=1,s.call(t,u,p)}))}},b727:function(t,e,s){var a=s("0366"),i=s("44ad"),n=s("7b0b"),r=s("50c4"),c=s("65f0"),l=[].push,o=function(t){var e=1==t,s=2==t,o=3==t,u=4==t,p=6==t,d=5==t||p;return function(f,v,h,m){for(var y,b,g=n(f),_=i(g),C=a(v,h,3),x=r(_.length),w=0,S=m||c,k=e?S(f,x):s?S(f,0):void 0;x>w;w++)if((d||w in _)&&(y=_[w],b=C(y,w,g),t))if(e)k[w]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return w;case 2:l.call(k,y)}else if(u)return!1;return p?-1:o||u?u:k}};t.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6)}},caad:function(t,e,s){"use strict";var a=s("23e7"),i=s("4d64").includes,n=s("44d2"),r=s("ae40"),c=r("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!c},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")},d81d:function(t,e,s){"use strict";var a=s("23e7"),i=s("b727").map,n=s("1dde"),r=s("ae40"),c=n("map"),l=r("map");a({target:"Array",proto:!0,forced:!c||!l},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},e01a:function(t,e,s){"use strict";var a=s("23e7"),i=s("83ab"),n=s("da84"),r=s("5135"),c=s("861d"),l=s("9bf2").f,o=s("e893"),u=n.Symbol;if(i&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var p={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(p[e]=!0),e};o(d,u);var f=d.prototype=u.prototype;f.constructor=d;var v=f.toString,h="Symbol(test)"==String(u("test")),m=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=v.call(t);if(r(p,t))return"";var s=h?e.slice(7,-1):e.replace(m,"$1");return""===s?void 0:s}}),a({global:!0,forced:!0},{Symbol:d})}},e538:function(t,e,s){var a=s("b622");e.f=a}}]);
//# sourceMappingURL=back_menu.706d6147.js.map