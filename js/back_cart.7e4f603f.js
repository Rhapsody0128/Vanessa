(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["back_cart"],{"159b":function(t,s,e){var a=e("da84"),r=e("fdbc"),i=e("17c2"),n=e("9112");for(var c in r){var o=a[c],l=o&&o.prototype;if(l&&l.forEach!==i)try{n(l,"forEach",i)}catch(u){l.forEach=i}}},"17c2":function(t,s,e){"use strict";var a=e("b727").forEach,r=e("a640"),i=e("ae40"),n=r("forEach"),c=i("forEach");t.exports=n&&c?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},4160:function(t,s,e){"use strict";var a=e("23e7"),r=e("17c2");a({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},a553:function(t,s,e){},a640:function(t,s,e){"use strict";var a=e("d039");t.exports=function(t,s){var e=[][t];return!!e&&a((function(){e.call(null,s||function(){throw 1},1)}))}},a9a5:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"back_order"}},[e("div",{staticClass:"all",style:t.allstyle},[e("div",{staticClass:"row cartorder",style:t.cartorderstyle},[e("div",{staticClass:"col"},[e("vs-table",{staticClass:"table",attrs:{multiple:"",data:t.datas},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.data;return t._l(a,(function(s,r){return e("vs-tr",{key:r,attrs:{data:s}},[a[r].finish?t._e():e("vs-td",{staticClass:"border",attrs:{data:a[r].account}},[e("span",{staticClass:"text"},[t._v(t._s(a[r].account))])]),a[r].finish?t._e():e("vs-td",{staticClass:"border",attrs:{data:a[r].title}},t._l(a[r].title,(function(s,a){return e("span",{key:a,staticClass:"text"},[t._v(t._s(s)),e("br"),e("br")])})),0),a[r].finish?t._e():e("vs-td",{staticClass:"border",attrs:{data:a[r].number}},t._l(a[r].number,(function(s,a){return e("span",{key:a,staticClass:"text"},[t._v(t._s(s)),e("br"),e("br")])})),0),a[r].finish?t._e():e("vs-td",{staticClass:"border",attrs:{data:a[r].value}},t._l(a[r].value,(function(s,a){return e("span",{key:a,staticClass:"text"},[t._v(t._s(s)),e("br"),e("br")])})),0),a[r].finish?t._e():e("vs-td",{attrs:{data:a[r].id}},[e("span",{staticClass:"text"},[t._v(t._s(a[r].id))])])],1)}))}}]),model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}},[e("template",{slot:"header"},[e("h1",{staticClass:"title text-center"},[t._v("訂單資訊")])]),e("template",{slot:"thead"},[e("vs-th",{staticClass:"item ",attrs:{"sort-key":"account"}},[t._v("帳號")]),e("vs-th",{staticClass:"item ",attrs:{"sort-key":"title"}},[t._v("項目")]),e("vs-th",{staticClass:"item ",attrs:{"sort-key":"number"}},[t._v("數量")]),e("vs-th",{staticClass:"item ",attrs:{"sort-key":"value"}},[t._v("單價")]),e("vs-th",{staticClass:"item ",attrs:{"sort-key":"id"}},[t._v("訂單編號")])],1)],2),e("h4",{staticClass:"text-right"},[t._v("所選定單總價為:"+t._s(t.allvalue)+"元")]),e("div",{staticClass:"d-flex mt-3 justify-content-center mb-5"},[e("div",{staticClass:"col-lg-3 col-4 d-flex justify-content-center"},[e("vs-button",{attrs:{color:"primary",type:"filled"},on:{click:function(s){return t.openConfirm()}}},[t._v("結案")])],1),e("div",{staticClass:"col-lg-3 col-4 d-flex justify-content-center"},[e("vs-button",{attrs:{color:"danger",type:"filled"},on:{click:function(s){return t.openDeleteConfirm()}}},[t._v("刪除")])],1),e("div",{staticClass:"col-lg-3 col-4 d-flex justify-content-center"},[e("vs-button",{attrs:{color:"success",type:"filled"},on:{click:t.changetoggle}},[t._v("已結案訂單")])],1)])],1)]),e("div",{staticClass:"row finish",style:t.finishstyle},[e("div",{staticClass:"col"},[e("vs-table",{staticClass:"table",attrs:{multiple:"",data:t.datas},scopedSlots:t._u([{key:"default",fn:function(s){var a=s.data;return t._l(a,(function(s,r){return e("vs-tr",{key:r,attrs:{data:s}},[a[r].finish?e("vs-td",{staticClass:"border",attrs:{data:a[r].account}},[e("span",{staticClass:"text"},[t._v(t._s(a[r].account))])]):t._e(),a[r].finish?e("vs-td",{staticClass:"border",attrs:{data:a[r].title}},t._l(a[r].title,(function(s,a){return e("span",{key:a,staticClass:"text"},[t._v(t._s(s)),e("br"),e("br")])})),0):t._e(),a[r].finish?e("vs-td",{staticClass:"border",attrs:{data:a[r].number}},t._l(a[r].number,(function(s,a){return e("span",{key:a,staticClass:"text"},[t._v(t._s(s)),e("br"),e("br")])})),0):t._e(),a[r].finish?e("vs-td",{staticClass:"border",attrs:{data:a[r].value}},t._l(a[r].value,(function(s,a){return e("span",{key:a,staticClass:"text"},[t._v(t._s(s)),e("br"),e("br")])})),0):t._e(),a[r].finish?e("vs-td",{attrs:{data:a[r].id}},[e("span",{staticClass:"text"},[t._v(t._s(a[r].id))])]):t._e()],1)}))}}]),model:{value:t.selected,callback:function(s){t.selected=s},expression:"selected"}},[e("template",{slot:"header"},[e("h1",{staticClass:"title text-center"},[t._v("已結案訂單")])]),e("template",{slot:"thead"},[e("vs-th",{staticClass:"item ",attrs:{"sort-key":"account"}},[t._v("帳號")]),e("vs-th",{staticClass:"item ",attrs:{"sort-key":"title"}},[t._v("項目")]),e("vs-th",{staticClass:"item ",attrs:{"sort-key":"number"}},[t._v("數量")]),e("vs-th",{staticClass:"item ",attrs:{"sort-key":"value"}},[t._v("單價")]),e("vs-th",{staticClass:"item ",attrs:{"sort-key":"id"}},[t._v("訂單編號")])],1)],2),e("div",{staticClass:"d-flex mt-3 justify-content-center mb-5"},[e("div",{staticClass:"col-lg-3 col-6 d-flex justify-content-center"},[e("vs-button",{attrs:{color:"danger",type:"filled"},on:{click:function(s){return t.openDeleteConfirm()}}},[t._v("刪除")])],1),e("div",{staticClass:"col-lg-3 col-6 d-flex justify-content-center"},[e("vs-button",{attrs:{color:"success",type:"filled"},on:{click:t.changetoggle}},[t._v("已結案訂單")])],1)])],1)])])])},r=[],i=(e("4160"),e("159b"),{data:function(){return{index:"",datas:[],selected:[],allstyle:"",cartorderstyle:"",finishstyle:"",toggle:!1}},methods:{changetoggle:function(){this.toggle=!this.toggle,this.selected=[],this.toggle?(this.allstyle={transform:"rotateY(180deg)"},this.cartorderstyle={pointerEvents:"none",opacity:"0"},this.finishstyle={pointerEvents:"auto",opacity:"1"}):(this.allstyle={transform:"rotateY(0deg)"},this.cartorderstyle={pointerEvents:"auto",opacity:"1"},this.finishstyle={pointerEvents:"none",opacity:"0"})},openConfirm:function(){this.$vs.dialog({type:"confirm",color:"success",title:"確認結案",text:"確定結案訂單嗎",accept:this.acceptAlert})},acceptAlert:function(t){var s=this;this.selected.length<1?this.$vs.notify({color:"danger",title:"錯誤",text:"未選擇結案項目"}):(this.$vs.notify({color:"primary",title:"已結案",text:"已順利結案所選項目"}),this.selected.forEach((function(t){s.axios.post("https://vanessa-rhapsody.herokuapp.com/finishcartorder",{id:t.id,finish:!0}).then((function(t){t.data.success?(s.$swal("成功","結案成功","success"),s.axios.post("https://vanessa-rhapsody.herokuapp.com/allcartorder").then((function(t){s.datas=t.data.result}))):s.$swal("錯誤","".concat(t.data.message),"error")})).catch((function(t){s.$swal("錯誤","".concat(t.response.data.message),"error")}))})))},openDeleteConfirm:function(){this.$vs.dialog({type:"confirm",color:"danger",title:"確認刪除",text:"確認刪除所選項目嗎",accept:this.acceptDeleteAlert})},acceptDeleteAlert:function(t){var s=this;this.selected.length<1?this.$vs.notify({color:"danger",title:"錯誤",text:"未選擇刪除所選項目"}):(this.$vs.notify({color:"primary",title:"已刪除",text:"已順利刪除所選項目"}),this.selected.forEach((function(t){s.axios.post("https://vanessa-rhapsody.herokuapp.com/cancelcartorder",{id:t.id}).then((function(t){t.data.success?(s.$swal("成功","刪除成功","success"),s.axios.post("https://vanessa-rhapsody.herokuapp.com/allcartorder").then((function(t){s.datas=t.data.result}))):s.$swal("錯誤","".concat(t.data.message),"error")})).catch((function(t){s.$swal("錯誤","".concat(t.response.data.message),"error")}))})))}},computed:{allvalue:function(){var t=0,s=0;return this.selected.forEach((function(e){t+=parseInt(e.value[s])*parseInt(e.number[s]),s++})),t}},mounted:function(){var t=this;this.axios.post("https://vanessa-rhapsody.herokuapp.com/allcartorder").then((function(s){t.datas=s.data.result,console.log(t.datas)})).catch((function(s){t.$swal("錯誤","".concat(s.response.data.message),"error")}))}}),n=i,c=(e("bb92"),e("2877")),o=Object(c["a"])(n,a,r,!1,null,null,null);s["default"]=o.exports},ae40:function(t,s,e){var a=e("83ab"),r=e("d039"),i=e("5135"),n=Object.defineProperty,c={},o=function(t){throw t};t.exports=function(t,s){if(i(c,t))return c[t];s||(s={});var e=[][t],l=!!i(s,"ACCESSORS")&&s.ACCESSORS,u=i(s,0)?s[0]:o,d=i(s,1)?s[1]:void 0;return c[t]=!!e&&!r((function(){if(l&&!a)return!0;var t={length:-1};l?n(t,1,{enumerable:!0,get:o}):t[1]=1,e.call(t,u,d)}))}},b727:function(t,s,e){var a=e("0366"),r=e("44ad"),i=e("7b0b"),n=e("50c4"),c=e("65f0"),o=[].push,l=function(t){var s=1==t,e=2==t,l=3==t,u=4==t,d=6==t,f=5==t||d;return function(v,h,p,y){for(var m,_,b=i(v),C=r(b),g=a(h,p,3),x=n(C.length),k=0,S=y||c,L=s?S(v,x):e?S(v,0):void 0;x>k;k++)if((f||k in C)&&(m=C[k],_=g(m,k,b),t))if(s)L[k]=_;else if(_)switch(t){case 3:return!0;case 5:return m;case 6:return k;case 2:o.call(L,m)}else if(u)return!1;return d?-1:l||u?u:L}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},bb92:function(t,s,e){"use strict";var a=e("a553"),r=e.n(a);r.a},fdbc:function(t,s){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=back_cart.7e4f603f.js.map